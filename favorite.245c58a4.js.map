{"mappings":"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","sources":["src/scripts/firebase/authState.js","src/scripts/firebase/logIn.js","src/scripts/firebase/logOut.js"],"sourcesContent":["import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebaseApi';\nimport { users } from '../common/fetchUser';\n\nconst auth = getAuth(app);\nconst userEl = document.querySelector('.user-name-header');\nconst userMobEl = document.querySelector('.user-name-mobile');\nconst signInBtn = document.querySelector('.sign-in-btn');\nconst signInBtnMob = document.querySelector('.sign-in-btn-mob');\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(user.displayName, user.email, user.uid);\n\n    onIsLogIn();\n  } else {\n    onIsLogOut();\n  }\n}\n\nasync function onIsLogIn() {\n  userEl.textContent = users.getName();\n  userMobEl.textContent = users.getName();\n  signInBtn.disabled = 'true';\n  signInBtnMob.disabled = 'true';\n  signOutBtn.removeAttribute('disabled');\n  signOutBtnMob.removeAttribute('disabled');\n}\n\nfunction onIsLogOut() {\n  userEl.textContent = 'user';\n  userMobEl.textContent = 'user';\n  signOutBtn.disabled = 'true';\n  signOutBtnMob.disabled = 'true';\n}\n","import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { users } from '../common/fetchUser';\nimport { app } from './firebaseApi';\n\nconst auth = getAuth(app);\nconst authForm = document.querySelector('.auth-form');\nconst userEl = document.querySelector('.user-name-header');\nconst userMobEl = document.querySelector('.user-name-mobile');\nconst signInBtn = document.querySelector('.sign-in-btn');\nconst signInBtnMob = document.querySelector('.sign-in-btn-mob');\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\nconst authMenu = document.querySelector('.auth-menu');\n\nauthForm.addEventListener('submit', onAuthSubmit);\n\nasync function onAuthSubmit(e) {\n  e.preventDefault();\n  const { email, password } = e.target.elements;\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email.value,\n      password.value\n    );\n    const user = userCredential.user;\n\n    users.updateProfile(user.displayName, user.email, user.uid);\n    changeVisual();\n  } catch {\n    Report.failure('This user is not registred');\n  }\n}\n\n// signInWithEmailAndPassword(auth, email, password)\n//   .then(userCredential => {\n//     // Signed in\n//     const user = userCredential.user;\n//     // ...\n//   })\n//   .catch(error => {\n//     const errorCode = error.code;\n//     const errorMessage = error.message;\n//   });\n\nfunction changeVisual() {\n  userEl.textContent = users.getName();\n  userMobEl.textContent = users.getName();\n  signInBtn.disabled = 'true';\n  signInBtnMob.disabled = 'true';\n  signOutBtn.removeAttribute('disabled');\n  signOutBtnMob.removeAttribute('disabled');\n  authMenu.classList.add('is-hidden');\n  document.body.classList.remove('modal-is-open');\n}\n","import { getAuth, signOut } from 'firebase/auth';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { app } from './firebaseApi';\n// import { users } from '../common/fetchUser';\n\nconst auth = getAuth(app);\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\n\nsignOutBtn.addEventListener('click', onSignOutBtnCLick);\n\nsignOutBtnMob.addEventListener('click', onSignOutBtnCLick);\n\nasync function onSignOutBtnCLick() {\n  try {\n    await signOut(auth);\n    location.reload();\n  } catch (error) {\n    Report.failure(error);\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$f87764ab60b78197$var$auth","$gQOBw","getAuth","$9IEE9","app","$f87764ab60b78197$var$userEl","document","querySelector","$f87764ab60b78197$var$userMobEl","$f87764ab60b78197$var$signInBtn","$f87764ab60b78197$var$signInBtnMob","$f87764ab60b78197$var$signOutBtn","$f87764ab60b78197$var$signOutBtnMob","$f87764ab60b78197$var$_onIsLogIn","$parcel$interopDefault","$2TvXO","mark","_callee","textContent","$dIGoD","users","getName","disabled","removeAttribute","apply","this","arguments","onAuthStateChanged","user","updateProfile","displayName","email","uid","$f87764ab60b78197$var$onIsLogIn","$2250a30c6ad46557$var$auth","$2250a30c6ad46557$var$authForm","$2250a30c6ad46557$var$userEl","$2250a30c6ad46557$var$userMobEl","$2250a30c6ad46557$var$signInBtn","$2250a30c6ad46557$var$signInBtnMob","$2250a30c6ad46557$var$signOutBtn","$2250a30c6ad46557$var$signOutBtnMob","$2250a30c6ad46557$var$authMenu","$2250a30c6ad46557$var$_onAuthSubmit","e","_elements","password","userCredential","preventDefault","target","elements","signInWithEmailAndPassword","value","_ctx","sent","$2250a30c6ad46557$var$changeVisual","$fivgP","Report","failure","classList","add","body","remove","addEventListener","$ab08a8c0bc7d5400$var$auth","$ab08a8c0bc7d5400$var$signOutBtn","$ab08a8c0bc7d5400$var$signOutBtnMob","$ab08a8c0bc7d5400$var$onSignOutBtnCLick","$ab08a8c0bc7d5400$var$_onSignOutBtnCLick","signOut","location","reload","t0"],"version":3,"file":"favorite.245c58a4.js.map"}