function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in s)return s[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return s[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("6aCLh"),a("J9Bl9"),a("kuWPD");var l=a("krqL4"),i=a("eyjy7");const r=new class{getName(){return this.name}setName(e){this.name=e}getEmail(){return this.email}setEmail(e){this.email=e}getId(){return this.id}setId(e){this.id=e}updateProfile(e,t,s){this.name=e,this.email=t,this.id=s}resetUser(){this.name="",this.email="",this.id=""}constructor(){this.name="",this.email="",this.id=""}},d=document.querySelector(".user-name-header"),c=document.querySelector(".user-name-mobile"),o=document.querySelector(".sign-in-btn"),u=document.querySelector(".sign-in-btn-mob"),m=document.querySelector(".log-out-btn"),h=document.querySelector(".log-out-btn-mob"),g=(0,i.getAuth)(l.app);(0,i.onAuthStateChanged)(g,(async function(e){e?(r.updateProfile(e.displayName,e.email,e.uid),d.textContent=r.getName(),c.textContent=r.getName(),o.disabled="true",u.disabled="true",m.removeAttribute("disabled"),h.removeAttribute("disabled")):(d.textContent="user",c.textContent="user",m.disabled="true",h.disabled="true")}));l=a("krqL4"),i=a("eyjy7");var v=a("i37YJ");const y=(0,i.getAuth)(l.app),p=document.querySelector(".auth-form"),w=document.querySelector(".user-name-header"),S=document.querySelector(".user-name-mobile"),b=document.querySelector(".sign-in-btn"),C=document.querySelector(".sign-in-btn-mob"),f=document.querySelector(".log-out-btn"),D=document.querySelector(".log-out-btn-mob"),M=document.querySelector(".auth-menu");p.addEventListener("submit",(async function(e){e.preventDefault();const{email:t,password:s}=e.target.elements;try{const e=(await(0,i.signInWithEmailAndPassword)(y,t.value,s.value)).user;r.updateProfile(e.displayName,e.email,e.uid),w.textContent=r.getName(),S.textContent=r.getName(),b.disabled="true",C.disabled="true",f.removeAttribute("disabled"),D.removeAttribute("disabled"),M.classList.add("is-hidden"),document.body.classList.remove("modal-is-open")}catch{v.Report.info("This user is not registred")}}));l=a("krqL4"),i=a("eyjy7"),v=a("i37YJ");const L=(0,i.getAuth)(l.app),k=document.querySelector(".log-out-btn"),_=document.querySelector(".log-out-btn-mob"),N=document.querySelector(".sign-in-btn"),T=document.querySelector(".sign-in-btn-mob"),$=document.querySelector(".user-name-header"),x=document.querySelector(".user-name-mobile");async function q(){try{await(0,i.signOut)(L),$.textContent="user",x.textContent="user",N.removeAttribute("disabled"),T.removeAttribute("disabled"),k.disabled="true",_.disabled="true",r.resetUser()}catch(e){v.Report.failure(e)}}k.addEventListener("click",q),_.addEventListener("click",q);var E=a("jx0tF"),U=a("7B1mV"),H=a("irLYq");E=a("jx0tF"),H=a("irLYq");const A=document.querySelector(".gallery-container"),Y=document.querySelector(".prev_container"),I=document.querySelector(".next_container"),P=document.querySelector(".item_container");async function F(){const e=E.fetchNews.getHits(),t=Math.ceil(e/10);E.fetchNews.resetPage(),function(e){const t=window.matchMedia("(min-width: 768px)");function s(t){if(!t.matches)return R(),void W(e,E.fetchNews.page+1);R(),O(e,E.fetchNews.page+1)}t.addListener(s),s(t)}(t)}function B(e){if(!e)return;const t=[...e],s=function(e){const t=[];for(let s=0;s<e.length;s+=10)t.push(e.slice(s,s+10));return t}(t),n=[];for(let e=0;e<t.length;e++)s[E.fetchNews.getPage()][e]&&n.push(s[E.fetchNews.getPage()][e]);const a=n.reduce(((e,t)=>e+=`<div class="news-card" news-id="${t.id}">\n        <div class="news-card__img">\n          <p class="news-card__theme">${t.category}</p>\n          <img\n            class="news-card__item"\n            src="${t.imgUrl}"\n            alt="${t.imgDescr?t.imgDescr:"photo"}"\n            loading="lazy"\n            width="395"\n          />\n          <div class="news-card__favorite">\n          <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n          </div>\n        </div>\n        <h2 class="news-card__info-title">${t.title.limit(50,{ending:""})}</h2>\n        <p class="news-card__info-text">${t.description.limit(120)}</p>\n        <div class="news-card__additional">\n          <p class="news-card__date">${t.pubDate}</p>\n          <a class="news-card__more" href="${t.url}" id="${t.id}"target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </div>`),"");A.insertAdjacentHTML("beforeend",a)}function O(e,t){let s,n=e,a="",l="",i="",r=t-1,d=t+1;if(e>50&&(n=50),e<2)return;l+='<div class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </div>',Y.innerHTML='<div class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </div>',t>3&&(a+='<li class="numb"><span>1</span></li> <li class="dots"><span>...</span></li>'),t===n&&(r-=1),1===t?d+=2:2===t&&(d+=1);for(let e=r;e<=d;e+=1)e>n||(0===e&&(e+=1),s=t===e?"active":"",a+=`<li class="numb ${s}"><span class="pageLength">${e}</span></li>`);t<n-3&&(t<n-2&&(a+='<li class="dots"><span>...</span></li>'),a+=`<li class="numb"><span>${n}</span></li>`),i+='<div class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </div>',I.innerHTML='<div class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </div>',P.innerHTML=a;const c=document.querySelector(".prev");c.addEventListener("click",(()=>{t>1&&O(n,t-1)}));const o=document.querySelector(".next");o.addEventListener("click",(()=>{t<n&&O(n,t+1)}));const u=document.querySelectorAll(".numb"),m=Array.from(u);for(const e of m)e.addEventListener("click",(e=>{const t=Number(e.target.textContent);O(n,t)}));if(I.classList.remove("inactiveCon"),1!==t)return t===n?(o.classList.add("inactive"),void I.classList.add("inactiveCon")):void I.classList.remove("inactiveCon");c.classList.add("inactive")}function R(){Y.innerHTML="",I.innerHTML="",P.innerHTML=""}function W(e,t){let s,n="",a="",l="",i=t,r=t,d=e;if(d<2)return;d>50&&(d=50),a+='<div class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </div>',Y.innerHTML='<div class="pagination_btn prev">\n            <span class="material-symbols-outlined"> chevron_left</span>\n            <span>Prev</span>\n          </div>',t>1&&(n+='<li class="numb"><span>1</span></li> <li class="dots"><span>...</span></li>');for(let e=i;e<=r;e+=1)e>d||(0===e&&(e+=1),s=t===e?"active":"",n+=`<li class="numb ${s}"><span class="pageLength">${e}</span></li>`);t<d&&(n+='<li class="dots"><span>...</span></li>',n+=`<li class="numb"><span>${d}</span></li>`),l+='<div class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </div>',I.innerHTML='<div class="pagination_btn next">\n            <span>Next</span\n            ><span class="material-symbols-outlined"> chevron_right </span>\n          </div>',P.innerHTML=n;const c=document.querySelector(".prev");c.addEventListener("click",(()=>{t>1&&W(d,t-1)}));const o=document.querySelector(".next");o.addEventListener("click",(()=>{t<d&&W(d,t+1)}));const u=document.querySelectorAll(".numb"),m=Array.from(u);for(const e of m)e.addEventListener("click",(e=>{const t=Number(e.target.textContent);W(d,t)}));if(1!==t)return t===d?(o.classList.add("inactive"),void I.classList.add("inactiveCon")):void I.classList.remove("inactiveCon");c.classList.add("inactive")}I.addEventListener("click",(async function(){if(E.fetchNews.incrementPage(),(0,H.deleteNewsCards)(),E.fetchNews.getUrl().includes("articlesearch")){E.fetchNews.resetData(),E.fetchNews.resetStorageData();try{const e=await E.fetchNews.fetchPagination();if(!e.data.response.docs.length)return void console.log("закінчились новини");const{data:{response:{docs:t}}}=e;(0,H.saveSearchData)(t),(0,H.renderNewsCards)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}catch(e){console.log(e)}}else if(E.fetchNews.isUrlRequest){B(E.fetchNews.getStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}else{B(E.fetchNews.getFiltredStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!1),(0,H.addClassesForCoincidencesMarkupAndStorage)()}})),Y.addEventListener("click",(async function(){if(E.fetchNews.decrementPage(),(0,H.deleteNewsCards)(),E.fetchNews.getUrl().includes("articlesearch")){E.fetchNews.resetData(),E.fetchNews.resetStorageData();try{const e=await E.fetchNews.fetchPagination();if(!e.data.response.docs.length)return void console.log("закінчились новини");const{data:{response:{docs:t}}}=e;(0,H.saveSearchData)(t),(0,H.renderNewsCards)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}catch(e){console.log(e)}}else if(E.fetchNews.isUrlRequest){B(E.fetchNews.getStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}else{B(E.fetchNews.getFiltredStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!1),(0,H.addClassesForCoincidencesMarkupAndStorage)()}})),P.addEventListener("click",(async function(e){if(E.fetchNews.setPage(Number(e.target.textContent)-1),(0,H.deleteNewsCards)(),E.fetchNews.getUrl().includes("articlesearch")){E.fetchNews.resetData(),E.fetchNews.resetStorageData();try{const e=await E.fetchNews.fetchPagination();if(!e.data.response.docs.length)return void console.log("закінчились новини");const{data:{response:{docs:t}}}=e;(0,H.saveSearchData)(t),(0,H.renderNewsCards)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}catch(e){console.log(e)}}else if(E.fetchNews.isUrlRequest){B(E.fetchNews.getStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}else{B(E.fetchNews.getFiltredStorageData()),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!1),(0,H.addClassesForCoincidencesMarkupAndStorage)()}})),async function(){U.spinner.spin(document.body);try{const e=await E.fetchNews.fetchNewsByPopular();E.fetchNews.setHits(e.data.num_results),(0,H.savePopularData)(e.data.results),(0,H.renderNewsCards)(),F(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}catch(e){console.log(e),U.spinner.stop()}U.spinner.stop()}();E=a("jx0tF"),H=a("irLYq"),U=a("7B1mV"),v=a("i37YJ");const K=document.querySelector(".search-input"),j=document.getElementById("search-form"),J=document.querySelector(".gallery >.container");function V(){E.fetchNews.getNodeChild().forEach((e=>e.remove()))}j.addEventListener("submit",(async function(e){e.preventDefault(),E.fetchNews.resetData(),E.fetchNews.resetStorageData(),U.spinner.spin(document.body);try{const e=K.value;if(!e)return v.Report.failure("Please enter a search term."),void U.spinner.stop();E.fetchNews.setQuerySearch(e);const s=await E.fetchNews.fetchNewsBySearch();if(!s.docs.length)return V(),R(),(0,H.mainPageShowModal)(),U.spinner.stop(),void j.reset();E.fetchNews.setHits(s.meta.hits);const{docs:n}=s;t=n,V(),R(),function(e){let t=null;e.forEach((e=>{e.multimedia.forEach((e=>{"xlarge"===e.subType&&(t=`https://www.nytimes.com/${e.url}`)}));const s=(0,H.cutInfo)(e.lead_paragraph),n=(0,H.formatDate)(e.pub_date);!function(e){E.fetchNews.addData((0,H.createObj)(e)),E.fetchNews.addStorageData((0,H.createObj)(e))}({title:e.headline.main,description:s,category:e.section_name,pubDate:n,url:e.web_url,img:t,imgDescr:e.keywords[0]?.value?e.keywords[0].value:"",id:e._id})}))}(t),function(){const e=[],t=E.fetchNews.getData();for(let s=0;s<t.length&&!(s>=10);s++)e.push(t[s]);const s=e.reduce(((e,t)=>e+=`\n<div class="news-card" news-id="${t.id}">\n    <div class="news-card__img">\n      <p class="news-card__theme">${t.category}</p>\n      <img class="news-card__item"\n          src="${t.imgUrl}"\n          alt="${t.imgDescr?t.imgDescr:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n          <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${t.title.limit(50,{ending:""})}</h2>\n      <p class="news-card__info-text">${t.description.limit(120)}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${t.pubDate}</p>\n      <a class="news-card__more" href="${t.url}" id="${t.id}"target="_blank" rel="noreferrer noopener">Read more</a>\n      </div>\n    </div>`),"");J.insertAdjacentHTML("beforeend",s)}(),F(),(0,H.mainPageHideModal)(),(0,H.addClassesForCoincidencesMarkupAndStorage)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),U.spinner.stop()}catch(e){console.log(e)}var t}));E=a("jx0tF"),H=a("irLYq"),U=a("7B1mV");const z=document.querySelector(".filters__button-wrap"),G=document.querySelector(".selected_list"),Q=document.querySelector(".selected_container .filters__button"),X=document.querySelector(".category_svg_icon"),Z=document.querySelector(".category_btn"),ee=document.querySelector(".category_dropdown"),te=document.querySelector(".category_notdropdownbtn_container"),se=document.querySelector(".selected_container"),ne=document.getElementById("search-form");function ae(e){E.fetchNews.resetData(),E.fetchNews.resetStorageData(),E.fetchNews.resetCategoryData(),E.fetchNews.setFilterQuery(e.toLowerCase())}function le(){(0,H.deleteNewsCards)(),R(),(0,H.mainPageShowModal)(),U.spinner.stop(),ne.reset()}function ie(e){(0,H.deleteNewsCards)(),R(),E.fetchNews.setHits(e.length),E.fetchNews.setFilterParams(E.fetchNews.getFilterParams()),(0,H.saveCategoryData)(e),(0,H.renderNewsCards)(),F(),(0,H.mainPageHideModal)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}function re(e){return`<a class="category_dropdown_item selected__item" href="#">${e}</a>`}function de(e){return`<button class="category_btn category_nondropdown_btn filters__button" >${e}</button>`}function ce(e){ee.innerHTML=`${e}`}function oe(e){te.innerHTML=`${e}`}function ue(e){e.composedPath().includes(se)||(X.style.fill="#4440f7",ee.classList.remove("shown"),document.removeEventListener("click",ue))}z.addEventListener("click",(async function(e){try{if("BUTTON"===e.target.nodeName){U.spinner.spin(document.body);ae(e.target.innerText.toLowerCase());const t=await E.fetchNews.fetchNewsByFilter(),{data:{results:s}}=t;if(null===s)return void le();ie(s)}}catch(e){console.error(e.message),U.spinner.stop()}ne.reset(),U.spinner.stop()})),Q.addEventListener("click",(function(){X.style.fill="#ffffff",X.classList.toggle("arrow-rotate"),G.classList.toggle("shown"),document.addEventListener("click",ue)})),G.addEventListener("click",(async function(e){try{G.classList.toggle("shown"),U.spinner.spin(document.body);const t=e.target.textContent;Q.innerText=t,ae(t);const s=await E.fetchNews.fetchNewsByFilter(),{data:{results:n}}=s;if(null===n)return void le();ie(n)}catch(e){console.error(e.message),U.spinner.stop()}ne.reset(),U.spinner.stop(),ne.reset()})),async function(){try{const n=(await E.fetchNews.getCategoryNames()).filter((e=>e.display_name.length<=10)).sort(),a=n.map((({section:e,display_name:t})=>t)),l=n.reduce(((e,t)=>(n.indexOf(t)<=3&&e.push(t.display_name),e)),[]),i=n.reduce(((e,t)=>(n.indexOf(t)>3&&e.push(t.display_name),e)),[]),r=n.reduce(((e,t)=>(n.indexOf(t)<=5&&e.push(t.display_name),e)),[]),d=n.reduce(((e,t)=>(n.indexOf(t)>5&&e.push(t.display_name),e)),[]),c=window.matchMedia("(min-width: 1280px)"),o=window.matchMedia("screen and (min-width: 768px) and (max-width: 1279px"),u=window.matchMedia("(max-width: 767px)");async function e(e){if(e.matches){Z.firstChild.textContent="Others";oe(r.reduce(((e,t)=>e+de(t)),""));ce(d.reduce(((e,t)=>e+re(t)),""))}}async function t(e){if(e.matches){Z.firstChild.textContent="Categories";const e=a.reduce(((e,t)=>e+re(t)),"");te.innerHTML="",ce(e)}}async function s(e){if(e.matches){Z.firstChild.textContent="Others";oe(l.reduce(((e,t)=>e+de(t)),""));ce(i.reduce(((e,t)=>e+re(t)),""))}}c.addListener(e),o.addListener(s),u.addListener(t),e(c),s(o),t(u),u.matches?t(u):o.mathes?s(o):e(c)}catch(m){console.log(m)}}();var me,he=Object.defineProperty,ge=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,pe=(e,t,s)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,we=(e,t,s)=>(pe(e,"symbol"!=typeof t?t+"":t,s),s);
/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */const Se=e=>{if(!["default","multiple","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowPrev}`),s=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowNext}`);t&&s&&("default"!==e.currentType&&"multiple"!==e.currentType||(()=>{if(!e.dateMin||!e.dateMax)return;const n=e.selectedMonth===e.dateMin.getUTCMonth(),a=e.selectedMonth===e.dateMax.getUTCMonth(),l=!e.settings.selection.year||e.selectedYear===e.dateMin.getUTCFullYear(),i=!e.settings.selection.year||e.selectedYear===e.dateMax.getUTCFullYear();n&&l||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility="",a&&i||!e.settings.selection.month?s.style.visibility="hidden":s.style.visibility=""})(),"year"===e.currentType&&e.dateMin&&e.dateMax&&void 0!==e.viewYear&&(e.dateMin.getUTCFullYear()&&e.viewYear-7<=e.dateMin.getUTCFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getUTCFullYear()&&e.viewYear+7>=e.dateMax.getUTCFullYear()?s.style.visibility="hidden":s.style.visibility=""))},be=(e,t)=>{if(!e)return null;const s=new Date(e).getUTCDate(),n=new Date(e).getUTCMonth(),a=new Date(e).getUTCFullYear(),l=new Date(Date.UTC(a,n,s)),i=t?l.getUTCDay()||7:l.getUTCDay();l.setUTCDate(l.getUTCDate()+4-i);const r=new Date(Date.UTC(l.getUTCFullYear(),0,1));return{year:a,week:Math.ceil(((+l-+r)/864e5+1)/7)}},Ce=e=>{const t=e.getUTCFullYear();let s=e.getUTCMonth()+1,n=e.getUTCDate();return s=s<10?`0${s}`:s,n=n<10?`0${n}`:n,`${t}-${s}-${n}`},fe=e=>{var t;const s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),n=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),a=new Date(e.date.today.getTime()),l=document.createElement("div"),i=document.createElement("button");l.className=e.CSSClasses.day,i.className=e.CSSClasses.dayBtn,i.type="button",null==(t=e.selectedDates)||t.sort(((e,t)=>+new Date(e)-+new Date(t))),s.forEach(((t,r)=>{const d=new Date(a.setMonth(e.selectedMonth+r)).getMonth(),c=new Date(a.setFullYear(e.selectedYear,e.selectedMonth+r)).getFullYear(),o=new Date(Date.UTC(c,d,1)),u=new Date(Date.UTC(c,d+1,0)).getUTCDate();let m=Number(o.getUTCDay());e.settings.iso8601&&(m=Number((0!==o.getUTCDay()?o.getUTCDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&s[r].classList.add(e.CSSClasses.daysSelecting),s[r].innerHTML="";const h=(t,n,a,d,o)=>{const u=l.cloneNode(!0),m=i.cloneNode(!0);if(o&&m.classList.add(o),m.innerText=t,m.dataset.calendarDay=a,e.settings.visibility.weekNumbers){const t=be(a,e.settings.iso8601);if(!t)return;m.dataset.calendarWeekNumber=`${t.week}`}((t,s,n,a,l)=>{var i,r;e.settings.range.disableWeekday.includes(n)&&(null==(i=e.rangeDisabled)||i.push(a),null==(r=e.rangeDisabled)||r.sort(((e,t)=>+new Date(e)-+new Date(t)))),!e.settings.visibility.weekend||0!==n&&6!==n||s.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach((t=>{t===a&&s.classList.add(e.CSSClasses.dayBtnHoliday)}));let d=e.date.today.getDate(),o=e.date.today.getMonth()+1;d=d<10?`0${d}`:d,o=o<10?`0${o}`:o;const u=`${e.date.today.getFullYear()}-${o}-${d}`;e.settings.visibility.today&&s.dataset.calendarDay===u&&s.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(a)?("multiple-ranged"===e.settings.selection.day&&e.selectedDates.length>1?t.classList.add(e.CSSClasses.daySelectedFirst):t.classList.add(e.CSSClasses.daySelected),s.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(a)===e.selectedDates.length-1?(t.classList.add(e.CSSClasses.daySelected),"multiple-ranged"===e.settings.selection.day?t.classList.add(e.CSSClasses.daySelectedLast):t.classList.add(e.CSSClasses.daySelected),s.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf(a)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.CSSClasses.daySelectedIntermediate),s.classList.add(e.CSSClasses.dayBtnSelected),s.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(a)>0&&(t.classList.add(e.CSSClasses.daySelected),s.classList.add(e.CSSClasses.dayBtnSelected)),(e.rangeMin>a||e.rangeMax<a)&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1),!e.settings.selection.month&&l&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1),e.settings.selection.year||new Date(a).getFullYear()===c||(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1),Array.isArray(e.rangeDisabled)?e.rangeDisabled.forEach((t=>{t===a&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1)})):Array.isArray(e.rangeEnabled)&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1,e.rangeEnabled.forEach((t=>{t===a&&(s.classList.remove(e.CSSClasses.dayBtnDisabled),s.tabIndex=0)})))})(u,m,n,a,d),d?e.settings.visibility.daysOutside&&u.append(m):u.append(m),s[r].append(u)};var g,v;(()=>{let t=new Date(Date.UTC(c,d,0)).getUTCDate()-m,s=c,n=d;0===d?(n=e.locale.months.length,s=c-1):d<10&&(n=`0${d}`);for(let a=0;a<m;a++){t+=1;const a=`${s}-${n}-${t}`,l=new Date(Date.UTC(c,d,t-1)).getUTCMonth()-1,i=new Date(Date.UTC(c,l,t)).getUTCDay();h(String(t),i,a,!0,e.CSSClasses.dayBtnPrev)}})(),(()=>{for(let e=1;e<=u;e++){const t=new Date(Date.UTC(c,d,e)),s=Ce(t),n=t.getUTCDay();h(String(e),n,s,!1,null)}})(),(()=>{const t=m+u,s=Math.ceil(t/e.locale.weekday.length),n=e.locale.weekday.length*s-t;let a=c,l=String(d+2);d+1===e.locale.months.length?(l="01",a=c+1):d+2<10&&(l=`0${d+2}`);for(let t=1;t<=n;t++){const s=`${a}-${l}-${t<10?`0${t}`:String(t)}`,n=new Date(Date.UTC(c,d,t)).getUTCMonth()+1,i=new Date(Date.UTC(c,n,t)).getUTCDay();h(String(t),i,s,!0,e.CSSClasses.dayBtnNext)}})(),g=e,v=s[r],g.popups&&Object.keys(g.popups).forEach((e=>{var t;const s=v.querySelector(`[data-calendar-day="${e}"]`);if(s){const n=null==(t=g.popups)?void 0:t[e];(null==n?void 0:n.modifier)&&n.modifier.trim().split(" ").forEach((e=>{s.classList.add(e)})),(null==n?void 0:n.html)&&(s.parentNode.innerHTML+=`<div class="${g.CSSClasses.dayPopup}">${n.html}</div>`)}})),((e,t,s,n,a)=>{if(!e.settings.visibility.weekNumbers)return;const l=a.querySelectorAll(`.${e.CSSClasses.day}`);n.innerHTML="";const i=Math.ceil((t+s)/7),r=document.createElement("b");r.className=e.CSSClasses.weekNumbersTitle,r.innerText="#",n.append(r);const d=document.createElement("div");d.className=e.CSSClasses.weekNumbersContent,n.append(d);const c=document.createElement("span");c.className=e.CSSClasses.weekNumber;for(let t=0;t<i;t++){let s=null;s=0===t?l[6].querySelector(`.${e.CSSClasses.dayBtn}`):l[7*t].querySelector(`.${e.CSSClasses.dayBtn}`);const n=be(s.dataset.calendarDay,e.settings.iso8601);if(!n)return;const a=c.cloneNode(!0);a.innerText=`${n.week}`,a.dataset.calendarYearWeek=`${n.year}`,d.append(a)}})(e,m,u,n[r],s[r])}))},De=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"\n\t\tdata-calendar-arrow="prev"\n\t\ttitle="Prev">\n\t</button>\n`,Me=e=>`\n\t<button type="button"\n\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"\n\tdata-calendar-arrow="next"\n\ttitle="Next">\n\t</button>\n`,Le=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.month}"\n\t\tdata-calendar-selected-month>\n\t</button>\n`,ke=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.year}"\n\t\tdata-calendar-selected-year>\n\t</button>\n`,_e=e=>`\n\t<div class="${e.CSSClasses.week}"></div>\n`,Ne=e=>`\n\t<div class="${e.CSSClasses.days}"></div>\n`,Te=e=>`\n\t<div class="${e.CSSClasses.months}"></div>\n`,$e=e=>`\n\t<div class="${e.CSSClasses.years}"></div>\n`,xe=e=>e.settings.visibility.weekNumbers?`\n\t<div class="${e.CSSClasses.weekNumbers}"></div>\n`:"",qe=e=>e.settings.selection.time?`\n\t<div class="${e.CSSClasses.time}"></div>\n`:"",Ee=(e,t)=>t.replace(/<#(.*?)\/>/g,((t,s)=>{const n=(e=>{let t=null;switch(e){case"ArrowPrev":t=De;break;case"ArrowNext":t=Me;break;case"Month":t=Le;break;case"Year":t=ke;break;case"Week":t=_e;break;case"Days":t=Ne;break;case"Months":t=Te;break;case"Years":t=$e;break;case"WeekNumbers":t=xe;break;case"ControlTime":t=qe}return t})(s.replace(/[\s\n\t]/g,""));return n?n(e):""})).replace(/[\n\t]/g,""),Ue=e=>{const t=e.HTMLElement;switch(t.classList.add(e.CSSClasses.calendar),e.currentType){case"default":t.classList.add(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=Ee(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;t.classList.add(e.CSSClasses.calendarMultiple),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=(s=e,Ee(e,e.DOMTemplates.multiple).replace(/<#Multiple>(.*?)<#\/Multiple>/g,((e,t)=>{let n="";for(let e=0;e<s.correctMonths;e++)n+=t;return n})).replace(/[\n\t]/g,""));break;case"month":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.add(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=Ee(e,e.DOMTemplates.month);break;case"year":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.add(e.CSSClasses.calendarYear),t.innerHTML=Ee(e,e.DOMTemplates.year)}var s},He=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!t[0]||void 0===e.selectedMonth)return;const s=new Date(e.date.today.getTime());t.forEach(((n,a)=>{const l=new Date(s.setMonth(e.selectedMonth+a)).getMonth();t[a].dataset.calendarSelectedMonth=String(l),t[a].innerText=e.locale.months[l],e.settings.selection.month&&"multiple"!==e.currentType?(t[a].tabIndex=0,t[a].classList.remove(e.CSSClasses.monthDisabled)):(t[a].tabIndex=-1,t[a].classList.add(e.CSSClasses.monthDisabled))}))},Ae=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!t||void 0===e.selectedMonth)return;const s=new Date(e.date.today.getTime());t.forEach(((n,a)=>{const l=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+a)).getFullYear();t[a].dataset.calendarSelectedYear=String(l),t[a].innerText=String(l),e.settings.selection.year&&"multiple"!==e.currentType?(t[a].tabIndex=0,t[a].classList.remove(e.CSSClasses.yearDisabled)):(t[a].tabIndex=-1,t[a].classList.add(e.CSSClasses.yearDisabled))}))},Ye=e=>{e.currentType="month",Ue(e),He(e),Ae(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.months}`);if(void 0===e.selectedMonth||void 0===e.selectedYear||!e.dateMin||!e.dateMax||!t)return;e.settings.selection.month&&t.classList.add(e.CSSClasses.monthsSelecting);const s=document.createElement("button");s.type="button",s.className=e.CSSClasses.monthsMonth;for(let n=0;n<e.locale.months.length;n++){const a=e.locale.months[n],l=s.cloneNode(!0);n===e.selectedMonth&&l.classList.add(e.CSSClasses.monthsMonthSelected),n<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),n>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),l.dataset.calendarMonth=String(n),l.title=`${a}`,l.innerText=`${e.settings.visibility.monthShort?a.substring(0,3):a}`,t.append(l)}},Ie=e=>{const t=Number(e);let s=String(t);return 0===t?s="12":13===t?s="01":14===t?s="02":15===t?s="03":16===t?s="04":17===t?s="05":18===t?s="06":19===t?s="07":20===t?s="08":21===t?s="09":22===t?s="10":23===t&&(s="11"),s},Pe=(e,t)=>{const s=Number(e);let n=String(s);return"AM"===t?12===s&&(n="00"):"PM"===t&&(1===s?n="13":2===s?n="14":3===s?n="15":4===s?n="16":5===s?n="17":6===s?n="18":7===s?n="19":8===s?n="20":9===s?n="21":10===s?n="22":11===s&&(n="23")),n},Fe=e=>{if(void 0===e.viewYear||!e.dateMin||!e.dateMax)return;e.currentType="year",Ue(e),He(e),Ae(e),Se(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!t)return;e.settings.selection.year&&t.classList.add(e.CSSClasses.yearsSelecting);const s=document.createElement("button");s.type="button",s.className=e.CSSClasses.yearsYear;for(let n=e.viewYear-7;n<e.viewYear+8;n++){const a=n,l=s.cloneNode(!0);a===e.selectedYear&&l.classList.add(e.CSSClasses.yearsYearSelected),a<e.dateMin.getUTCFullYear()&&(l.classList.add(e.CSSClasses.yearsYearDisabled),l.tabIndex=-1),a>e.dateMax.getUTCFullYear()&&(l.classList.add(e.CSSClasses.yearsYearDisabled),l.tabIndex=-1),l.dataset.calendarYear=String(a),l.innerText=`${a}`,t.append(l)}},Be=e=>{const t=[];return e.forEach((e=>{e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((e,s,n)=>{const a=new Date(s),l=new Date(n),i=new Date(a.getTime());for(;i<=l;i.setDate(i.getDate()+1))t.push(Ce(i));return e}))})),t},Oe=e=>{(e=>{e.rangeMin=e.settings.range.min,e.rangeMax=e.settings.range.max,e.rangeDisabled=e.settings.range.disabled?Be([...e.settings.range.disabled]):[],e.rangeEnabled=e.settings.range.enabled?Be([...e.settings.range.enabled]):[],e.selectedDates=e.settings.selected.dates?Be([...e.settings.selected.dates]):[],e.selectedHolidays=e.settings.selected.holidays?Be([...e.settings.selected.holidays]):[],e.settings.range.disablePast&&new Date(e.settings.range.min)<e.date.today&&(e.rangeMin=Ce(e.date.today));const t=new Date(e.rangeMin),s=new Date(e.rangeMax);t.setDate(t.getDate()-1),s.setDate(s.getDate()+1),e.rangeDisabled.push(Ce(t)),e.rangeDisabled.push(Ce(s)),e.rangeDisabled.sort(((e,t)=>+new Date(e)-+new Date(t))),null!==e.settings.selected.month&&e.settings.selected.month>=0&&e.settings.selected.month<12?e.selectedMonth=e.settings.selected.month:e.selectedMonth=e.date.today.getMonth(),null!==e.settings.selected.year&&e.settings.selected.year>=0&&e.settings.selected.year<=9999?e.selectedYear=e.settings.selected.year:e.selectedYear=e.date.today.getFullYear(),e.viewYear=e.selectedYear,e.dateMin=e.settings.visibility.disabled?new Date(e.date.min):new Date(e.rangeMin),e.dateMax=e.settings.visibility.disabled?new Date(e.date.max):new Date(e.rangeMax);const n=!0===e.settings.selection.time||12===e.settings.selection.time;if(n||24===e.settings.selection.time){if("string"==typeof e.settings.selected.time){const t=n?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(t,((t,s,a,l)=>(s&&a&&(e.userTime=!0,e.selectedHours=s,e.selectedMinutes=a),l&&n?e.selectedKeeping=l:n&&(e.selectedKeeping="AM"),"")))}!e.userTime&&n?(e.selectedHours=Ie(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>12?"PM":"AM"):e.userTime||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else e.settings.selection.time&&(e.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));"multiple"===e.type&&(1===e.months?(console.warn("The value of the «months» parameter cannot be less than «2», the minimum available value will be initialized."),e.correctMonths=2):e.months>12?(console.warn("The value of the «months» parameter cannot be greater than «12», the maximum available value will be initialized."),e.correctMonths=12):e.correctMonths=e.months)})(e),(e=>{if("define"!==e.settings.lang){e.locale.weekday=[];for(let t=0;t<7;t++){let s=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});s=`${s.charAt(0).toUpperCase()}${s.substring(1,s.length)}`,s=s.replace(/\./,""),e.locale.weekday.push(s)}e.locale.months=[];for(let t=0;t<12;t++){let s=new Date(0,t).toLocaleString(e.settings.lang,{month:"long"});s=`${s.charAt(0).toUpperCase()}${s.substring(1,s.length)}`,s=s.replace(/\./,""),e.locale.months.push(s)}}})(e),Ue(e),He(e),Ae(e),Se(e),(e=>{const t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;const s=!0===e.settings.selection.time?12:e.settings.selection.time,n="range"===e.settings.selection.controlTime;t.innerHTML=`\n\t<div class="${e.CSSClasses.timeContent}">\n\t\t<label class="${e.CSSClasses.timeHours}">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedHours}"\n\t\t\t\t${n?"disabled":""}>\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeMinutes}">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedMinutes}"\n\t\t\t\t${n?"disabled":""}>\n\t\t</label>\n\t\t${12===s?`\n\t\t<button type="button"\n\t\t\tclass="${e.CSSClasses.timeKeeping}"\n\t\t\t${n?"disabled":""}>${e.selectedKeeping}</button>\n\t\t`:""}\n\t</div>\n\t<div class="${e.CSSClasses.timeRanges}">\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="${e.settings.selection.stepHours}"\n\t\t\t\tvalue="${e.selectedKeeping?Pe(e.selectedHours,e.selectedKeeping):e.selectedHours}">\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="${e.settings.selection.stepMinutes}"\n\t\t\t\tvalue="${e.selectedMinutes}">\n\t\t</label>\n\t</div>`,((e,t)=>{const s=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="hours"]`),n=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="minutes"]`),a=e.HTMLElement.querySelector(`.${e.CSSClasses.timeHours} input[name="hours"]`),l=e.HTMLElement.querySelector(`.${e.CSSClasses.timeMinutes} input[name="minutes"]`),i=e.HTMLElement.querySelector(`.${e.CSSClasses.timeKeeping}`),r=(t,s)=>{t.addEventListener("mouseover",(()=>s.classList.add(e.CSSClasses.isFocus)))},d=(t,s)=>{t.addEventListener("mouseout",(()=>s.classList.remove(e.CSSClasses.isFocus)))},c=(t,s,n)=>{"hours"===n?e.selectedHours=`${s}`:"minutes"===n&&(e.selectedMinutes=`${s}`),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.settings.selected.time=e.selectedTime,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},o=(t,s,n,a)=>{t.addEventListener("input",(t=>{let l=Number(t.target.value);l=l<10?`0${l}`:`${l}`,"hours"===n&&12===a?Number(t.target.value)<a&&Number(t.target.value)>0?(s.value=l,e.selectedKeeping="AM",i.innerText=e.selectedKeeping,c(t,l,n)):(0===Number(t.target.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),s.value=Ie(t.target.value),c(t,Ie(t.target.value),n)):(s.value=l,c(t,l,n))}))},u=(t,s,n,a)=>{s.addEventListener("change",(s=>{const l=s.target;let r=Number(l.value);r=r<10?`0${r}`:`${r}`,"hours"===n&&12===a?l.value&&Number(l.value)<=a&&Number(l.value)>0?(l.value=r,t.value=Pe(r,e.selectedKeeping),c(s,r,n)):l.value&&Number(l.value)<24&&(Number(l.value)>a||0===Number(l.value))?(0===Number(l.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),l.value=Ie(l.value),t.value=r,c(s,Ie(l.value),n)):l.value=e.selectedHours:l.value&&Number(l.value)<=a&&Number(l.value)>=0?(l.value=r,t.value=r,c(s,r,n)):"hours"===n?l.value=e.selectedHours:"minutes"===n&&(l.value=e.selectedMinutes)}))};r(s,a),r(n,l),d(s,a),d(n,l),o(s,a,"hours",24===t?23:12),o(n,l,"minutes",0),u(s,a,"hours",24===t?23:12),u(n,l,"minutes",59),i&&i.addEventListener("click",(t=>{i.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",s.value=Pe(e.selectedHours,e.selectedKeeping),c(t,e.selectedHours,"hours"),i.innerText=e.selectedKeeping}))})(e,s)})(e),"default"===e.currentType||"multiple"===e.currentType?((e=>{const t=[...e.locale.weekday];if(!t[0])return;const s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`),n=document.createElement("b");n.className=e.CSSClasses.weekDay,e.settings.iso8601&&t.push(t.shift()),s.forEach((s=>{s.innerHTML="";for(let a=0;a<t.length;a++){const l=t[a],i=n.cloneNode(!0);e.settings.visibility.weekend&&e.settings.iso8601?5!==a&&6!==a||i.classList.add(e.CSSClasses.weekDayWeekend):e.settings.visibility.weekend&&!e.settings.iso8601&&(0!==a&&6!==a||i.classList.add(e.CSSClasses.weekDayWeekend)),i.innerText=`${l}`,s.append(i)}}))})(e),fe(e)):"month"===e.currentType?Ye(e):"year"===e.currentType&&Fe(e)},Re=["light","dark","system"],We=(e,t)=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const s=e.locale.months.length-1;switch(t){case"prev":0!==e.selectedMonth?e.selectedMonth-=1:e.settings.selection.year&&(e.selectedYear-=1,e.selectedMonth=s);break;case"next":e.selectedMonth!==s?e.selectedMonth+=1:e.settings.selection.year&&(e.selectedYear+=1,e.selectedMonth=0)}e.settings.selected.month=e.selectedMonth,e.settings.selected.year=e.selectedYear,He(e),Ae(e),Se(e),fe(e)};let Ke=null;const je=()=>{var e;if(!Ke)return;const t=null==(e=Ke.HTMLElement)?void 0:e.querySelectorAll(`.${Ke.CSSClasses.dayBtnHover}`);t&&t.forEach((e=>e.classList.remove(Ke.CSSClasses.dayBtnHover)))},Je=e=>{var t;if(!Ke||!Ke.selectedDates)return;const s=Ce(e);if(Ke.rangeDisabled&&Ke.rangeDisabled.includes(s))return;const n=null==(t=Ke.HTMLElement)?void 0:t.querySelectorAll(`[data-calendar-day="${s}"]`);null==n||n.forEach((e=>{e.classList.add(Ke.CSSClasses.dayBtnHover)}))},Ve=e=>{if(!e.target||!Ke||!Ke.selectedDates)return;if(!e.target.closest(`.${Ke.CSSClasses.days}`))return void je();const t=e.target.dataset.calendarDay;if(!t)return;je();const s=new Date(Date.UTC(new Date(Ke.selectedDates[0]).getUTCFullYear(),new Date(Ke.selectedDates[0]).getUTCMonth(),new Date(Ke.selectedDates[0]).getUTCDate())),n=new Date(Date.UTC(new Date(t).getUTCFullYear(),new Date(t).getUTCMonth(),new Date(t).getUTCDate()));if(n>s)for(let e=s;e<=n;e.setUTCDate(e.getUTCDate()+1))Je(e);else for(let e=s;e>=n;e.setUTCDate(e.getUTCDate()-1))Je(e)},ze=e=>{Ke&&"Escape"===e.key&&(Ke.selectedDates=[],Ke.HTMLElement.removeEventListener("mousemove",Ve),document.removeEventListener("keydown",ze),Oe(Ke))},Ge=e=>{e.HTMLElement.addEventListener("click",(t=>{const s=t.target,n=s.closest(`.${e.CSSClasses.arrow}`),a=s.closest(`.${e.CSSClasses.arrowPrev}`),l=s.closest(`.${e.CSSClasses.arrowNext}`),i=s.closest(`.${e.CSSClasses.dayBtn}`),r=s.closest(`.${e.CSSClasses.dayBtnPrev}`),d=s.closest(`.${e.CSSClasses.dayBtnNext}`),c=s.closest(`.${e.CSSClasses.weekNumber}`),o=s.closest(`.${e.CSSClasses.year}`),u=s.closest(`.${e.CSSClasses.yearsYear}`),m=s.closest(`.${e.CSSClasses.month}`),h=s.closest(`.${e.CSSClasses.monthsMonth}`);n&&"year"!==e.currentType&&"month"!==e.currentType&&We(e,s.dataset.calendarArrow),n&&e.actions.clickArrow&&e.actions.clickArrow(t,Number(e.selectedYear),Number(e.selectedMonth)),(()=>{if(e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&i){switch(e.settings.selection.day){case"single":e.selectedDates&&i&&i.dataset.calendarDay&&(i.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(i.dataset.calendarDay),1):(e.selectedDates=[],e.selectedDates.push(i.dataset.calendarDay)));break;case"multiple":e.selectedDates&&i&&i.dataset.calendarDay&&(i.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(i.dataset.calendarDay),1):e.selectedDates.push(i.dataset.calendarDay));break;case"multiple-ranged":(()=>{if(e.selectedDates&&i&&i.dataset.calendarDay){if(e.selectedDates.length<=1&&e.selectedDates[0]&&e.selectedDates[0].includes(i.dataset.calendarDay)?e.selectedDates=[]:(e.selectedDates.length>1&&(e.selectedDates=[]),e.selectedDates.push(i.dataset.calendarDay)),e.selectedDates[1]){const t=new Date(Date.UTC(new Date(e.selectedDates[0]).getUTCFullYear(),new Date(e.selectedDates[0]).getUTCMonth(),new Date(e.selectedDates[0]).getUTCDate())),s=new Date(Date.UTC(new Date(e.selectedDates[1]).getUTCFullYear(),new Date(e.selectedDates[1]).getUTCMonth(),new Date(e.selectedDates[1]).getUTCDate())),n=t=>{if(!e.selectedDates)return;const s=Ce(t);e.rangeDisabled&&e.rangeDisabled.includes(s)||e.selectedDates.push(s)};if(e.selectedDates=[],s>t)for(let e=t;e<=s;e.setUTCDate(e.getUTCDate()+1))n(e);else for(let e=t;e>=s;e.setUTCDate(e.getUTCDate()-1))n(e)}(t=e)&&t.selectedDates&&(Ke=t,t.selectedDates[0]&&t.selectedDates.length<=1?(t.HTMLElement.addEventListener("mousemove",Ve),document.addEventListener("keydown",ze),t.settings.range.disableGaps&&(()=>{var e;if(!Ke||!(null==(e=Ke.selectedDates)?void 0:e[0])||!Ke.rangeDisabled||Ke.rangeDisabled.length<2)return;const t=new Date(Ke.selectedDates[0]);let s=null,n=null;Ke.rangeDisabled.sort(((e,t)=>+new Date(e)-+new Date(t)));for(let e=0;e<Ke.rangeDisabled.length;e++){const a=new Date(Ke.rangeDisabled[e]);if(!(t>=a)){n=a;break}s=a}s&&(s=new Date(s.setDate(s.getDate()+1)),Ke.rangeMin=Ce(s)),n&&(n=new Date(n.setDate(n.getDate()-1)),Ke.rangeMax=Ce(n))})()):(t.HTMLElement.removeEventListener("mousemove",Ve),document.removeEventListener("keydown",ze),t.settings.range.disableGaps&&Ke&&(Ke.rangeMin=Ke.settings.range.min,Ke.rangeMax=Ke.settings.range.max,Ke.settings.range.disablePast&&new Date(Ke.settings.range.min)<Ke.date.today&&(Ke.rangeMin=Ce(Ke.date.today)))))}var t})()}e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),r?We(e,"prev"):d?We(e,"next"):fe(e)}})(),(()=>{var s;if(!e.settings.visibility.weekNumbers||!c||!e.actions.clickWeekNumber)return;const n=null==(s=e.HTMLElement)?void 0:s.querySelectorAll("[data-calendar-week-number]");if(!n)return;const a=Number(c.innerText),l=Number(c.dataset.calendarYearWeek),i=[...n].filter((e=>Number(e.dataset.calendarWeekNumber)===a));e.actions.clickWeekNumber(t,a,i,l)})(),(()=>{if(e.settings.selection.year&&"multiple"!==e.currentType)if(n&&"year"===e.currentType){if(void 0===e.viewYear)return;l?e.viewYear+=15:a&&(e.viewYear-=15),Fe(e)}else if("year"!==e.currentType&&o)Fe(e);else if("year"===e.currentType&&o)e.currentType=e.type,Oe(e);else if(u){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;e.selectedYear=Number(u.dataset.calendarYear),e.currentType=e.type,e.selectedMonth<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(e.settings.selected.month=e.dateMin.getUTCMonth()),e.selectedMonth>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(e.settings.selected.month=e.dateMax.getUTCMonth()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),e.settings.selected.year=e.selectedYear,Oe(e)}})(),e.settings.selection.month&&"multiple"!==e.currentType&&("month"!==e.currentType&&m?Ye(e):"month"===e.currentType&&m?(e.currentType=e.type,Oe(e)):h&&(e.selectedMonth=Number(h.dataset.calendarMonth),e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),e.settings.selected.month=e.selectedMonth,Oe(e)))}))},Qe={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",column:"vanilla-calendar-column",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};class Xe{constructor(e,t){var s,n,a,l,i,r,d,c,o,u,m,h,g,v,y,p,w,S,b,C,f,D,M,L,k,_,N,T,$,x,q,E,U,H,A,Y,I,P,F,B,O,R,W,K,j,J,V,z,G,Q,X,Z,ee,te,se,ne,ae,le,ie,re,de,ce,oe,ue,me,he,Se,be,Ce,fe,De,Me,Le,ke,_e,Ne,Te,$e,xe,qe,Ee,Ue,He,Ae,Ye,Ie,Pe,Fe,Be,We,Ke,je,Je,Ve,ze,Xe,Ze,et,tt,st,nt,at,lt,it,rt,dt,ct,ot,ut,mt,ht,gt,vt,yt,pt,wt,St,bt,Ct;we(this,"HTMLElement"),we(this,"type"),we(this,"months"),we(this,"date"),we(this,"settings"),we(this,"locale"),we(this,"actions"),we(this,"popups"),we(this,"CSSClasses"),we(this,"DOMTemplates"),we(this,"currentType"),we(this,"selectedKeeping"),we(this,"userTime"),we(this,"update",(()=>Oe(this))),we(this,"init",(()=>{var e;(e=this).HTMLElement&&(Oe(e),(e=>{if(e.HTMLElement)if("system"===e.settings.visibility.theme){if("not all"===window.matchMedia("(prefers-color-scheme)").media)return;const t=window.matchMedia("(prefers-color-scheme: dark)");e.HTMLElement.dataset.calendarTheme=t.matches?"dark":"light",t.addEventListener("change",(t=>{e.HTMLElement.dataset.calendarTheme=t.matches?"dark":"light"}))}else{if(Re.includes(e.settings.visibility.theme))return void(e.HTMLElement.dataset.calendarTheme=e.settings.visibility.theme);console.error("Incorrect name of theme in settings.visibility.theme")}})(e),Ge(e))})),this.HTMLElement="string"==typeof e?document.querySelector(e):e,this.HTMLElement&&(this.type=null!=(s=null==t?void 0:t.type)?s:"default",this.months=null!=(n=null==t?void 0:t.months)?n:2,this.date={min:null!=(l=null==(a=null==t?void 0:t.date)?void 0:a.min)?l:"1970-01-01",max:null!=(r=null==(i=null==t?void 0:t.date)?void 0:i.max)?r:"2470-12-31",today:null!=(c=null==(d=null==t?void 0:t.date)?void 0:d.today)?c:new Date},this.settings={lang:null!=(u=null==(o=null==t?void 0:t.settings)?void 0:o.lang)?u:"en",iso8601:null==(h=null==(m=null==t?void 0:t.settings)?void 0:m.iso8601)||h,range:{min:null!=(y=null==(v=null==(g=null==t?void 0:t.settings)?void 0:g.range)?void 0:v.min)?y:this.date.min,max:null!=(S=null==(w=null==(p=null==t?void 0:t.settings)?void 0:p.range)?void 0:w.max)?S:this.date.max,disablePast:null!=(f=null==(C=null==(b=null==t?void 0:t.settings)?void 0:b.range)?void 0:C.disablePast)&&f,disableGaps:null!=(L=null==(M=null==(D=null==t?void 0:t.settings)?void 0:D.range)?void 0:M.disableGaps)&&L,disableWeekday:null!=(N=null==(_=null==(k=null==t?void 0:t.settings)?void 0:k.range)?void 0:_.disableWeekday)?N:[],disabled:null!=(x=null==($=null==(T=null==t?void 0:t.settings)?void 0:T.range)?void 0:$.disabled)?x:null,enabled:null!=(U=null==(E=null==(q=null==t?void 0:t.settings)?void 0:q.range)?void 0:E.enabled)?U:null},selection:{day:null!=(Y=null==(A=null==(H=null==t?void 0:t.settings)?void 0:H.selection)?void 0:A.day)?Y:"single",month:null==(F=null==(P=null==(I=null==t?void 0:t.settings)?void 0:I.selection)?void 0:P.month)||F,year:null==(R=null==(O=null==(B=null==t?void 0:t.settings)?void 0:B.selection)?void 0:O.year)||R,time:null!=(j=null==(K=null==(W=null==t?void 0:t.settings)?void 0:W.selection)?void 0:K.time)&&j,controlTime:null!=(z=null==(V=null==(J=null==t?void 0:t.settings)?void 0:J.selection)?void 0:V.controlTime)?z:"all",stepHours:null!=(X=null==(Q=null==(G=null==t?void 0:t.settings)?void 0:G.selection)?void 0:Q.stepHours)?X:1,stepMinutes:null!=(te=null==(ee=null==(Z=null==t?void 0:t.settings)?void 0:Z.selection)?void 0:ee.stepMinutes)?te:1},selected:{dates:null!=(ae=null==(ne=null==(se=null==t?void 0:t.settings)?void 0:se.selected)?void 0:ne.dates)?ae:null,month:null!=(re=null==(ie=null==(le=null==t?void 0:t.settings)?void 0:le.selected)?void 0:ie.month)?re:null,year:null!=(oe=null==(ce=null==(de=null==t?void 0:t.settings)?void 0:de.selected)?void 0:ce.year)?oe:null,holidays:null!=(he=null==(me=null==(ue=null==t?void 0:t.settings)?void 0:ue.selected)?void 0:me.holidays)?he:null,time:null!=(Ce=null==(be=null==(Se=null==t?void 0:t.settings)?void 0:Se.selected)?void 0:be.time)?Ce:null},visibility:{theme:null!=(Me=null==(De=null==(fe=null==t?void 0:t.settings)?void 0:fe.visibility)?void 0:De.theme)?Me:"system",monthShort:null==(_e=null==(ke=null==(Le=null==t?void 0:t.settings)?void 0:Le.visibility)?void 0:ke.monthShort)||_e,weekNumbers:null!=($e=null==(Te=null==(Ne=null==t?void 0:t.settings)?void 0:Ne.visibility)?void 0:Te.weekNumbers)&&$e,weekend:null==(Ee=null==(qe=null==(xe=null==t?void 0:t.settings)?void 0:xe.visibility)?void 0:qe.weekend)||Ee,today:null==(Ae=null==(He=null==(Ue=null==t?void 0:t.settings)?void 0:Ue.visibility)?void 0:He.today)||Ae,disabled:null!=(Pe=null==(Ie=null==(Ye=null==t?void 0:t.settings)?void 0:Ye.visibility)?void 0:Ie.disabled)&&Pe,daysOutside:null==(We=null==(Be=null==(Fe=null==t?void 0:t.settings)?void 0:Fe.visibility)?void 0:Be.daysOutside)||We}},this.locale={months:null!=(je=null==(Ke=null==t?void 0:t.locale)?void 0:Ke.months)?je:[],weekday:null!=(Ve=null==(Je=null==t?void 0:t.locale)?void 0:Je.weekday)?Ve:[]},this.actions={clickDay:null!=(Xe=null==(ze=null==t?void 0:t.actions)?void 0:ze.clickDay)?Xe:null,clickWeekNumber:null!=(et=null==(Ze=null==t?void 0:t.actions)?void 0:Ze.clickWeekNumber)?et:null,clickMonth:null!=(st=null==(tt=null==t?void 0:t.actions)?void 0:tt.clickMonth)?st:null,clickYear:null!=(at=null==(nt=null==t?void 0:t.actions)?void 0:nt.clickYear)?at:null,clickArrow:null!=(it=null==(lt=null==t?void 0:t.actions)?void 0:lt.clickArrow)?it:null,changeTime:null!=(dt=null==(rt=null==t?void 0:t.actions)?void 0:rt.changeTime)?dt:null},this.popups=null!=(ct=null==t?void 0:t.popups)?ct:null,this.CSSClasses=(()=>{const e=((e,t)=>{for(var s in t||(t={}))ve.call(t,s)&&pe(e,s,t[s]);if(ge)for(var s of ge(t))ye.call(t,s)&&pe(e,s,t[s]);return e})({},Qe);return Object.keys(Qe).forEach((s=>{var n;(null==(n=null==t?void 0:t.CSSClasses)?void 0:n[s])?e[s]=t.CSSClasses[s]:e[s]=Qe[s]})),e})(),this.DOMTemplates={default:null!=(ut=null==(ot=null==t?void 0:t.DOMTemplates)?void 0:ot.default)?ut:(wt=this.CSSClasses,`\n\t<div class="${wt.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${wt.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${wt.wrapper}">\n\t\t<#WeekNumbers />\n\t\t<div class="${wt.content}">\n\t\t\t<#Week />\n\t\t\t<#Days />\n\t\t</div>\n\t</div>\n\t<#ControlTime />\n`),multiple:null!=(ht=null==(mt=null==t?void 0:t.DOMTemplates)?void 0:mt.multiple)?ht:(Ct=this.CSSClasses,`\n\t<div class="${Ct.controls}">\n\t\t<#ArrowPrev />\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${Ct.grid}">\n\t\t<#Multiple>\n\t\t\t<div class="${Ct.column}">\n\t\t\t\t<div class="${Ct.header}">\n\t\t\t\t\t<div class="${Ct.headerContent}">\n\t\t\t\t\t\t<#Month />\n\t\t\t\t\t\t<#Year />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="${Ct.wrapper}">\n\t\t\t\t\t<#WeekNumbers />\n\t\t\t\t\t<div class="${Ct.content}">\n\t\t\t\t\t\t<#Week />\n\t\t\t\t\t\t<#Days />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<#/Multiple>\n\t</div>\n\t<#ControlTime />\n`),month:null!=(vt=null==(gt=null==t?void 0:t.DOMTemplates)?void 0:gt.month)?vt:(bt=this.CSSClasses,`\n\t<div class="${bt.header}">\n\t\t<div class="${bt.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t</div>\n\t<div class="${bt.wrapper}">\n\t\t<div class="${bt.content}">\n\t\t\t<#Months />\n\t\t</div>\n\t</div>\n`),year:null!=(pt=null==(yt=null==t?void 0:t.DOMTemplates)?void 0:yt.year)?pt:(St=this.CSSClasses,`\n\t<div class="${St.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${St.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${St.wrapper}">\n\t\t<div class="${St.content}">\n\t\t\t<#Years />\n\t\t</div>\n\t</div>\n`)},this.currentType=this.type,this.selectedKeeping=null,this.userTime=!1)}}"undefined"!=typeof window&&(window.VanillaCalendar=Xe),me=Xe;v=a("i37YJ"),U=a("7B1mV"),E=a("jx0tF"),H=a("irLYq");new(e(me))("#calendar").init();const Ze=document.querySelector("#date"),et=document.querySelector("#calendar-container"),tt=document.querySelector("#calendar"),st=document.querySelector(".gallery-container"),nt=document.querySelector(".date-container"),at=(new Date).toLocaleDateString().split(".").join("/");function lt(e){e.composedPath().includes(nt)||(et.classList.add("is-hidden"),document.removeEventListener("click",lt))}function it(){(0,H.deleteNewsCards)(),R(),(0,H.mainPageShowModal)(),U.spinner.stop()}function rt(e){(0,H.deleteNewsCards)(),function(e){const t=[];for(let s=0;s<e.length&&!(s>=10);s++)t.push(e[s]);const s=t.reduce(((e,t)=>e+=`<div class="news-card" news-id="${t.id}">\n      <div class="news-card__img">\n        <p class="news-card__theme">${t.category}</p>\n        <img\n          class="news-card__item"\n          src="${t.imgUrl}"\n          alt="${t.imgDescr?t.imgDescr:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${t.title.limit(50,{ending:""})}</h2>\n      <p class="news-card__info-text">${t.description.limit(120)}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${t.pubDate}</p>\n        <a class="news-card__more" href="${t.url}" id="${t.id}"target="_blank" rel="noreferrer noopener">Read more</a>\n      </div>\n    </div>`),"");st.insertAdjacentHTML("beforeend",s)}(e),F(),(0,H.mainPageHideModal)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!1),(0,H.addClassesForCoincidencesMarkupAndStorage)()}Ze.placeholder=at,Ze.addEventListener("click",(function(){et.classList.toggle("is-hidden"),document.addEventListener("click",lt)})),tt.addEventListener("click",(async function(e){if(e.target.hasAttribute("data-calendar-day")){const s=e.target.getAttribute("data-calendar-day"),n=new Date;if(new Date(s).getTime()>n.getTime())return void v.Report.info("Choose other date!");E.fetchNews.setDate(s.split("-").join(""));const a=s.split("-").reverse().join("/");if(Ze.value=a,et.classList.add("is-hidden"),U.spinner.spin(document.body),R(),E.fetchNews.getUrl().includes("articlesearch")){E.fetchNews.resetData();try{const e=await E.fetchNews.fetchNewsByDate();if(!e.data.response.docs.length)return void it();(0,H.deleteNewsCards)(),E.fetchNews.setHits(e.data.response.meta.hits);const{data:{response:{docs:s}}}=e;t=s,(0,H.saveSearchData)(t),(0,H.renderNewsCards)(),F(),(0,H.mainPageHideModal)(),E.fetchNews.setNodeChild(document.querySelectorAll(".news-card")),E.fetchNews.setIsUrlRequest(!0),(0,H.addClassesForCoincidencesMarkupAndStorage)()}catch(e){console.log(e),U.spinner.stop()}}else if(E.fetchNews.getUrl().includes("content")){const e=E.fetchNews.getCategoryData().filter((e=>a===e.pubDate));if(!e.length)return void it();E.fetchNews.setHits(0),rt(e)}else{const e=E.fetchNews.getStorageData().filter((e=>a===e.pubDate));if(!e.length)return void it();E.fetchNews.setHits(0),rt(e)}}var t;U.spinner.stop()}));H=a("irLYq");const dt=document.querySelector(".gallery-container");function ct(e){localStorage.setItem(e,JSON.stringify([]))}function ot(){return(new Date).getTime()}null===localStorage.getItem("favourites")&&ct("favourites"),null===localStorage.getItem("read more")&&ct("read more"),dt.addEventListener("click",(function(e){if("BUTTON"===e.target.tagName){e.target.parentNode.children[0].classList.toggle("js-favourite-storage"),"Add to favorite"===e.target.parentNode.children[0].textContent?e.target.parentNode.children[0].textContent="Remove from favorite":"Remove from favorite"===e.target.parentNode.children[0].textContent&&(e.target.parentNode.children[0].textContent="Add to favorite");const t=e.target.parentNode.parentNode.parentNode,s={id:t.attributes[1].nodeValue,img:t.children[0].children[1].src,alt:t.children[0].children[1].alt,title:t.children[1].textContent,descr:t.children[2].textContent,dateArticle:t.children[3].children[0].textContent,link:t.children[3].children[1].href,category:t.children[0].children[0].textContent},n=(0,H.getStorageList)("favourites");!function(e,t,s){if(e){const e=t.findIndex((e=>e.id===s.id));t.splice(e,1),localStorage.setItem("favourites",JSON.stringify(t))}else t.push(s),localStorage.setItem("favourites",JSON.stringify(t))}(n.some((e=>e.id===s.id)),n,s)}if("Read more"===e.target.textContent){e.target.classList.add("js-read-more-storage");const t=e.target.parentNode.parentNode,s={date:ot(),id:t.attributes[1].nodeValue,img:t.children[0].children[1].src,alt:t.children[0].children[1].alt,title:t.children[1].textContent,descr:t.children[2].textContent,dateArticle:t.children[3].children[0].textContent,link:t.children[3].children[1].href,category:t.children[0].children[0].textContent},n=(0,H.getStorageList)("read more");!function(e,t,s){if(e){const e=t.findIndex((e=>e.id===s.id));t.splice(e,1),t.push(s),localStorage.setItem("read more",JSON.stringify(t))}else t.push(s),localStorage.setItem("read more",JSON.stringify(t))}(n.some((e=>e.id===s.id)),n,s)}}));const ut={checkbox:document.getElementById("theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun"),iconMoon:document.querySelector(".icon-moon"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),inputCalendar:document.querySelector(".input-calendar")},mt=localStorage.getItem("theme");mt&&document.body.classList.add(mt+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state")&&(ut.checkbox.checked=!0,document.body.classList.add("dark-theme-site"),ut.lightLabel.classList.add("light-theme-site"),ut.darkLabel.classList.add("dark-theme-site"),ut.iconSun.classList.add("dark-theme-site"),ut.iconMoon.classList.add("dark-theme-site"),ut.searchInput.classList.add("dark-theme-site"),ut.queryBtn.classList.add("dark-theme-site"),ut.mobileMenu.classList.add("dark-theme-site"),ut.inputCalendar.classList.add("dark-theme-site")),ut.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),ut.lightLabel.classList.toggle("light-theme-site"),ut.darkLabel.classList.toggle("dark-theme-site"),ut.iconSun.classList.toggle("dark-theme-site"),ut.iconMoon.classList.toggle("dark-theme-site"),ut.searchInput.classList.toggle("dark-theme-site"),ut.queryBtn.classList.toggle("dark-theme-site"),ut.mobileMenu.classList.toggle("dark-theme-site"),ut.inputCalendar.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme",e);const t=ut.checkbox.checked;localStorage.setItem("theme-checkbox-state",t)}()}));const ht={checkboxMobile:document.getElementById("mobile-theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun-mob"),iconMoon:document.querySelector(".icon-moon-mob"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),inputCalendar:document.querySelector(".input-calendar"),menuIcon:document.querySelector(".menu-toggle__icons"),menuCross:document.querySelector(".menu-toggle__icons-cross")},gt=localStorage.getItem("theme-mobile");gt&&document.body.classList.add(gt+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state-mobile")&&(ht.checkboxMobile.checked=!0,document.body.classList.add("dark-theme-site"),ht.lightLabel.classList.add("light-theme-site"),ht.darkLabel.classList.add("dark-theme-site"),ht.iconSun.classList.add("dark-theme-site"),ht.iconMoon.classList.add("dark-theme-site"),ht.searchInput.classList.add("dark-theme-site"),ht.queryBtn.classList.add("dark-theme-site"),ht.mobileMenu.classList.add("dark-theme-site"),ht.inputCalendar.classList.add("dark-theme-site"),ht.menuIcon.classList.add("dark-theme-site"),ht.menuCross.classList.add("dark-theme-site")),ht.checkboxMobile.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),ht.lightLabel.classList.toggle("light-theme-site"),ht.darkLabel.classList.toggle("dark-theme-site"),ht.iconSun.classList.toggle("dark-theme-site"),ht.iconMoon.classList.toggle("dark-theme-site"),ht.searchInput.classList.toggle("dark-theme-site"),ht.queryBtn.classList.toggle("dark-theme-site"),ht.mobileMenu.classList.toggle("dark-theme-site"),ht.inputCalendar.classList.toggle("dark-theme-site"),ht.menuIcon.classList.toggle("dark-theme-site"),ht.menuCross.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme-mobile",e);const t=ht.checkboxMobile.checked;localStorage.setItem("theme-checkbox-state-mobile",t)}()}));var vt=a("2shzp");U=a("7B1mV");const yt=document.querySelector(".weather-card"),pt=new class{async loadWeather(){if(0!==this.lat||0!==this.lon){const e=`https://api.openweathermap.org/data/2.5/weather?units=metric&lat=${this.lat}&lon=${this.lon}&appid=6c90b122891b52fe3b5fdb40f2e7657c`;return await vt.default.get(e)}}async loadWeatherWeek(){if(null!=this.lat&&null!=this.lon){const e=`https://openweathermap.org/data/2.5/onecall?lat=${this.lat}&lon=${this.lon}&units=metric&appid=439d4b804bc8187953eb36d2a8c26a02`;return await vt.default.get(e)}}constructor(){this.lat,this.lon}};async function wt(e){try{pt.lat=e.coords.latitude,pt.lon=e.coords.longitude,bt()}catch{}}async function St(){try{pt.lat=50.4333,pt.lon=30.5167,bt()}catch{}}async function bt(){try{const e=await pt.loadWeather();!function(e){yt.innerHTML=`\n  <div class="weather-card__top">\n        <div class="weather-card__temp">${Math.round(e.main.temp)}°</div>\n        <div class="weather-card__top-right">\n          <p class="weather-card__now">${e.weather[0].main}</p>\n          <button class="weather-card__locate">\n            ${e.name}\n          </button>\n        </div>\n      </div>\n      <picture class="weather-picture">\n        <img class="img" src="https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png" alt="" width="165" />\n      </picture>\n      <div class="weather-card__bottom">\n        <p class="weather-card__date">\n          ${Dt(e)}\n        </p>\n        <button class="weather-card__week">\n          <a class="weather-card__week-link href=">weather for week</a>\n        </button>\n      </div>\n  `;document.querySelector(".weather-card__week").addEventListener("click",Ct)}(e.data)}catch{}}async function Ct(){try{U.spinner.spin(yt);const e=await pt.loadWeatherWeek();!function(e){const t=e.reduce(((e,t)=>e+=`\n    <div class="week-weather">\n      <div class="day-of-week">${Dt(t)}</div>\n      <img\n          class="week-weather-icon"\n          src="https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png"\n          width = '40'\n          heigth = '40'\n        />\n    <span class="week-weather-temp">${Math.round(t.temp.max)}</span>\n    <span class="week-weather-temp">/ ${Math.round(t.temp.min)}°C</span>\n    </div>\n    `),"")+'\n    <button class="weather-card__week newbtn">\n      <a>weather for day</a>\n    </button>\n  ';yt.innerHTML=t}(e.data.daily);document.querySelector(".newbtn").addEventListener("click",ft)}catch{U.spinner.stop()}U.spinner.stop()}async function ft(){try{const e=(await pt.loadWeather()).data;yt.innerHTML=`\n  <div class="weather-card__top">\n        <div class="weather-card__temp">${Math.round(e.main.temp)}</div>\n        <div class="weather-card__top-right">\n          <p class="weather-card__now">${e.weather[0].main}</p>\n          <button class="weather-card__locate">\n            ${e.name}\n          </button>\n        </div>\n      </div>\n      <picture class="weather-picture">\n        <img class="img" src="https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png" alt="" width="165" />\n      </picture>\n      <div class="weather-card__bottom">\n        <p class="weather-card__date">\n          ${Dt(e)}\n        </p>\n        <button class="weather-card__week">\n          <a class="weather-card__week-link href=">weather for week</a>\n        </button>\n      </div>\n  `;document.querySelector(".weather-card__week").addEventListener("click",Ct),navigator.geolocation.getCurrentPosition(wt,St)}catch{}}function Dt(e){const t=e.dt,s=new Date(1e3*t);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][s.getDay()]+"<br>"+s.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]+" "+s.getFullYear()}navigator.geolocation.getCurrentPosition(wt,St);
//# sourceMappingURL=index.f902ac65.js.map
