{"mappings":"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","sources":["src/favorite.js","src/scripts/favorite/favoriteBlock.js","src/scripts/favorite/themeFavorite.js","src/scripts/favorite/themeFavoriteMobile.js","src/scripts/favorite/searchNewsfromFavoriteStorage.js"],"sourcesContent":["import './scripts/common/current';\nimport './scripts/common/mobileMenu';\nimport './scripts/common/authMenu';\nimport './scripts/firebase/authState';\nimport './scripts/firebase/logIn';\nimport './scripts/firebase/logOut';\nimport './scripts/favorite/favoriteBlock';\nimport './scripts/common/newsCardFromStorage';\nimport './scripts/favorite/themeFavorite';\nimport './scripts/favorite/themeFavoriteMobile';\nimport './scripts/favorite/searchNewsfromFavoriteStorage';\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nimport { spinner } from '../common/libraries';\nimport { app } from '../firebase/firebaseApi';\nimport { users } from '../common/fetchUser';\nimport {\n  addClassesForCoincidencesMarkupAndStoragePages,\n  showModal,\n  hideModal,\n  createDataList,\n} from '../common/commonFunctions';\n\nconst auth = getAuth(app);\nconst gallery = document.querySelector('.gallery-container');\n\ngallery.addEventListener('click', onClickRemoveBtn);\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(\n      user.displayName,\n      user.email,\n      user.uid,\n      user.accessToken\n    );\n    onLoadFavoriteNews();\n  } else {\n    const mess = 'Log in to your account to view your selected news!';\n    showModal(mess);\n  }\n}\n\nasync function onLoadFavoriteNews() {\n  spinner.spin(document.body);\n  try {\n    const favourite = await users.getAllData('favourites');\n\n    if (!favourite) {\n      spinner.stop();\n      const mess = \"Sorry! You haven't added anything to your favorites yet\";\n      showModal(mess);\n      return;\n    } else {\n      const dataList = createDataList(favourite);\n      renderFavouriteCardFromStorage(dataList);\n      hideModal();\n      addClassesForCoincidencesMarkupAndStoragePages();\n    }\n  } catch (error) {\n    console.log(error);\n    spinner.stop();\n  }\n  spinner.stop();\n}\n\nfunction renderFavouriteCardFromStorage(dataList) {\n  const markUp = dataList.reduce((acc, el) => {\n    el.title;\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n  gallery.insertAdjacentHTML('beforeend', markUp);\n}\n\nfunction onClickRemoveBtn(e) {\n  if (e.target.tagName === 'BUTTON') {\n    if (\n      !e.target.parentNode.parentNode.parentNode.classList.contains(\n        'found-news-card'\n      )\n    ) {\n      e.target.parentNode.parentNode.parentNode.classList.add('scale');\n      setTimeout(() => {\n        e.target.parentNode.parentNode.parentNode.remove();\n        if (!gallery.children.length) {\n          showModal(\"Sorry! You haven't added anything to your favorites yet\");\n        }\n      }, 600);\n    }\n  }\n}\n","const refs = {\n  checkbox: document.getElementById('theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun'),\n  iconMoon: document.querySelector('.icon-moon'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n};\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxState = localStorage.getItem('theme-checkbox-state');\n\nif (savedCheckboxState === 'true') {\n  refs.checkbox.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n}\n\nrefs.checkbox.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  changeThemeMobile();\n});\n\nfunction changeThemeMobile() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme', theme);\n\n  // збереження стану чекбокса\n  const checkboxState = refs.checkbox.checked;\n  localStorage.setItem('theme-checkbox-state', checkboxState);\n}\n","const refs = {\n  checkboxMobile: document.getElementById('mobile-theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun-mob'),\n  iconMoon: document.querySelector('.icon-moon-mob'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n  menuIcon: document.querySelector('.menu-toggle__icons'),\n  menuCross: document.querySelector('.menu-toggle__icons-cross'),\n};\n\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme-mobile');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxMobileState = localStorage.getItem(\n  'theme-checkbox-state-mobile'\n);\n\nif (savedCheckboxMobileState === 'true') {\n  refs.checkboxMobile.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n  refs.menuIcon.classList.add('dark-theme-site');\n  refs.menuCross.classList.add('dark-theme-site');\n}\n\nrefs.checkboxMobile.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  refs.menuIcon.classList.toggle('dark-theme-site');\n  refs.menuCross.classList.toggle('dark-theme-site');\n  changeTheme();\n});\n\nfunction changeTheme() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme-mobile', theme);\n\n  // збереження стану чекбокса\n  const checkboxMobileState = refs.checkboxMobile.checked;\n  localStorage.setItem('theme-checkbox-state-mobile', checkboxMobileState);\n}\n","import { spinner } from '../common/libraries';\nimport {\n  showModal,\n  hideModal,\n  addClassesForCoincidencesMarkupAndStoragePages,\n  createDataList,\n} from '../common/commonFunctions';\nimport { users } from '../common/fetchUser';\n\nconst formEl = document.getElementById('search-form');\nconst galleryEl = document.querySelector('.gallery-container');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  hideModal();\n  spinner.spin(document.body);\n  const searchValue = e.target.elements.searchQuery.value;\n\n  const data = await users.getAllData('favourites');\n  if (!data) {\n    showModal('Nothing was found matching your search!');\n    spinner.stop();\n    return;\n  }\n  const dataList = createDataList(data);\n\n  const newArrObj = dataList.filter(\n    obj =>\n      obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n  );\n\n  if (newArrObj.length > 0) {\n    render(newArrObj);\n    addClassesForCoincidencesMarkupAndStoragePages();\n  } else {\n    showModal('Nothing was found matching your search!');\n  }\n  formEl.reset();\n  spinner.stop();\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card found-news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  galleryEl.innerHTML = markUp;\n}\n"],"names":["parcelRequire","$eyjy7","$8c0918e077154235$var$auth","getAuth","$krqL4","app","$8c0918e077154235$var$gallery","document","querySelector","addEventListener","e","target","tagName","parentNode","classList","contains","add","setTimeout","remove","children","length","$irLYq","showModal","onAuthStateChanged","user","$jKfAL","users","updateProfile","displayName","email","uid","accessToken","async","$7B1mV","spinner","spin","body","favourite","getAllData","stop","mess","dataList","markUp","reduce","acc","el","title","id","category","img","alt","descr","dateArticle","link","insertAdjacentHTML","$8c0918e077154235$var$renderFavouriteCardFromStorage","createDataList","hideModal","addClassesForCoincidencesMarkupAndStoragePages","error","console","log","$8c0918e077154235$var$onLoadFavoriteNews","$7801296c56e2f518$var$refs","checkbox","getElementById","mobileMenu","lightLabel","darkLabel","iconSun","iconMoon","searchInput","queryBtn","$7801296c56e2f518$var$savedTheme","localStorage","getItem","checked","toggle","theme","setItem","checkboxState","$7801296c56e2f518$var$changeThemeMobile","$c392678f1e6e7a58$var$refs","checkboxMobile","menuIcon","menuCross","$c392678f1e6e7a58$var$savedTheme","checkboxMobileState","$c392678f1e6e7a58$var$changeTheme","$5f75c2458661c240$var$formEl","$5f75c2458661c240$var$galleryEl","preventDefault","searchValue","elements","searchQuery","value","data","newArrObj","filter","obj","toLowerCase","includes","trim","arr","innerHTML","$5f75c2458661c240$var$render","reset"],"version":3,"file":"favorite.8ad6f41e.js.map"}