{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,mCAMeC,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAAuBC,G,IAcbC,EAEAC,EAWAC,EAcAC,EAEAC,EAYAC,E,qEAtDqB,WAAzBN,EAAMO,OAAOC,QAAoB,C,uBACnCR,EAAMO,OAAOE,WAAWC,SAAS,GAAGC,UAAUC,OAC5C,wBAGsD,oBAApDZ,EAAMO,OAAOE,WAAWC,SAAS,GAAGG,YACtCb,EAAMO,OAAOE,WAAWC,SAAS,GAAGG,YAAc,uBAEE,yBAApDb,EAAMO,OAAOE,WAAWC,SAAS,GAAGG,cAEpCb,EAAMO,OAAOE,WAAWC,SAAS,GAAGG,YAAc,mBAG9CZ,EAAgBD,EAAMO,OAAOE,WAAWA,WAAWA,WAEnDP,EAAU,CACdY,GAAIb,EAAcc,WAAW,GAAGC,UAChCC,IAAKhB,EAAcS,SAAS,GAAGA,SAAS,GAAGQ,IAC3CC,IAAKlB,EAAcS,SAAS,GAAGA,SAAS,GAAGS,IAC3CC,MAAOnB,EAAcS,SAAS,GAAGG,YACjCQ,MAAOpB,EAAcS,SAAS,GAAGG,YACjCS,YAAarB,EAAcS,SAAS,GAAGA,SAAS,GAAGG,YACnDU,KAAMtB,EAAcS,SAAS,GAAGA,SAAS,GAAGc,KAC5CC,SAAUxB,EAAcS,SAAS,GAAGA,SAAS,GAAGG,a,SAGrBa,EAAAC,MAAMC,WAAW,c,OAAxCzB,EAAc0B,EAAAC,KACL,KAKfC,EAHK5B,EACWA,EAAeD,EAAQY,IADPX,EAGGD,G,WAKJ,cAA7BF,EAAMO,OAAOM,YAA2B,C,uBAC1Cb,EAAMO,OAAOI,UAAUqB,IAAI,wBAErB5B,EAAgBJ,EAAMO,OAAOE,WAAWA,WAExCJ,EAAU,CACd4B,KAAMC,IACNpB,GAAIV,EAAcW,WAAW,GAAGC,UAChCC,IAAKb,EAAcM,SAAS,GAAGA,SAAS,GAAGQ,IAC3CC,IAAKf,EAAcM,SAAS,GAAGA,SAAS,GAAGS,IAC3CC,MAAOhB,EAAcM,SAAS,GAAGG,YACjCQ,MAAOjB,EAAcM,SAAS,GAAGG,YACjCS,YAAalB,EAAcM,SAAS,GAAGA,SAAS,GAAGG,YACnDU,KAAMnB,EAAcM,SAAS,GAAGA,SAAS,GAAGc,KAC5CC,SAAUrB,EAAcM,SAAS,GAAGA,SAAS,GAAGG,a,UAGvBa,EAAAC,MAAMC,WAAW,Y,QAAtCtB,EAAYuB,EAAAC,KACH,KAIfK,EAHK7B,EACWA,EAAaD,EAAQS,IADPR,EAGDD,G,6CA5DX+B,MAAAC,KAAAC,U,CAgEtB,SAASH,EAAmBI,EAAUrC,GAC/BqC,EACAb,EAAAC,MAAMa,WAAW,WAAYtC,EAAQY,IAD3BY,EAAAC,MAAMc,QAAQ,WAAYvC,EAAQY,GAAIZ,E,CAIvD,SAAS6B,EAAyBQ,EAAUrC,GACrCqC,EACAb,EAAAC,MAAMa,WAAW,aAActC,EAAQY,IAD7BY,EAAAC,MAAMc,QAAQ,aAAcvC,EAAQY,GAAIZ,E,CAGzD,SAASgC,IAGP,OAFa,IAAIQ,MAELC,S,CAhFEC,SAASC,cAAc,sBAE/BC,iBAAiB,S,SAEF9C,G,OAARL,EAAOyC,MAAAC,KAAAC,U","sources":["src/scripts/common/newsCardFromStorage.js"],"sourcesContent":["import { users } from '../common/fetchUser';\n\nconst gallery = document.querySelector('.gallery-container');\n\ngallery.addEventListener('click', onClick); // повесить слушателя на галерею\n\nasync function onClick(event) {\n  if (event.target.tagName === 'BUTTON') {\n    event.target.parentNode.children[0].classList.toggle(\n      'js-favourite-storage'\n    );\n\n    if (event.target.parentNode.children[0].textContent === 'Add to favorite') {\n      event.target.parentNode.children[0].textContent = 'Remove from favorite';\n    } else if (\n      event.target.parentNode.children[0].textContent === 'Remove from favorite'\n    ) {\n      event.target.parentNode.children[0].textContent = 'Add to favorite';\n    }\n\n    const arrayChildren = event.target.parentNode.parentNode.parentNode;\n\n    const newData = {\n      id: arrayChildren.attributes[1].nodeValue,\n      img: arrayChildren.children[0].children[1].src,\n      alt: arrayChildren.children[0].children[1].alt,\n      title: arrayChildren.children[1].textContent,\n      descr: arrayChildren.children[2].textContent,\n      dateArticle: arrayChildren.children[3].children[0].textContent,\n      link: arrayChildren.children[3].children[1].href,\n      category: arrayChildren.children[0].children[0].textContent,\n    };\n\n    const favouriteLinks = await users.getAllData('favourites');\n    let myResult = null;\n\n    if (!favouriteLinks) myResult = favouriteLinks;\n    else myResult = favouriteLinks[newData.id];\n\n    refreshFavouritesStorage(myResult, newData);\n  }\n\n  //--------------------Read more--------------------------------\n\n  if (event.target.textContent === 'Read more') {\n    event.target.classList.add('js-read-more-storage');\n\n    const arrayChildren = event.target.parentNode.parentNode;\n\n    const newData = {\n      date: getDateForCreateObjToStorage(),\n      id: arrayChildren.attributes[1].nodeValue,\n      img: arrayChildren.children[0].children[1].src,\n      alt: arrayChildren.children[0].children[1].alt,\n      title: arrayChildren.children[1].textContent,\n      descr: arrayChildren.children[2].textContent,\n      dateArticle: arrayChildren.children[3].children[0].textContent,\n      link: arrayChildren.children[3].children[1].href,\n      category: arrayChildren.children[0].children[0].textContent,\n    };\n\n    const readMoreList = await users.getAllData('readMore');\n    let myResult = null;\n    if (!readMoreList) myResult = readMoreList;\n    else myResult = readMoreList[newData.id];\n\n    refreshLinkStorage(myResult, newData);\n  }\n}\n\nfunction refreshLinkStorage(myResult, newData) {\n  if (!myResult) users.setData('readMore', newData.id, newData);\n  else users.deleteData('readMore', newData.id);\n}\n\nfunction refreshFavouritesStorage(myResult, newData) {\n  if (!myResult) users.setData('favourites', newData.id, newData);\n  else users.deleteData('favourites', newData.id);\n}\nfunction getDateForCreateObjToStorage() {\n  const date = new Date();\n\n  return date.getTime();\n}\n"],"names":["$bpxeT","parcelRequire","$342a6ffde94539bb$var$_onClick","$parcel$interopDefault","$2TvXO","mark","_callee","event","arrayChildren","newData","favouriteLinks","arrayChildren1","newData1","readMoreList","target","tagName","parentNode","children","classList","toggle","textContent","id","attributes","nodeValue","img","src","alt","title","descr","dateArticle","link","href","category","$dIGoD","users","getAllData","_ctx","sent","$342a6ffde94539bb$var$refreshFavouritesStorage","add","date","$342a6ffde94539bb$var$getDateForCreateObjToStorage","$342a6ffde94539bb$var$refreshLinkStorage","apply","this","arguments","myResult","deleteData","setData","Date","getTime","document","querySelector","addEventListener"],"version":3,"file":"favorite.40a7239e.js.map"}