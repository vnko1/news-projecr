{"mappings":"oeAAAA,EAAA,S,uDCAA,IAAAC,EAAAD,EAAA,S,oDAYA,MAAME,GAAO,EAAAD,EAAAE,SAAQC,EAAAC,KACfC,EAAUC,SAASC,cAAc,sBAEvCF,EAAQG,iBAAiB,SAsEzB,SAA0BC,GACC,WAArBA,EAAEC,OAAOC,UAERF,EAAEC,OAAOE,WAAWA,WAAWA,WAAWC,UAAUC,SACnD,qBAGFL,EAAEC,OAAOE,WAAWA,WAAWA,WAAWG,SACrCV,EAAQW,SAASC,SACpB,EAAAC,EAAAC,WAAU,4D,KA7ElB,EAAAnB,EAAAoB,oBAAmBnB,GAEnB,SAAsBoB,GACpB,GAAIA,EACFC,EAAAC,MAAMC,cAAcH,EAAKI,YAAaJ,EAAKK,MAAOL,EAAKM,KAQ3DC,iBACEC,EAAAC,QAAQC,KAAKzB,SAAS0B,MACtB,IACE,MAAMC,QAAkBX,EAAAC,MAAMW,WAAW,cAEzC,IAAKD,EAAW,CACdJ,EAAAC,QAAQK,OACR,MAAMC,EAAO,0DAEb,YADA,EAAAlB,EAAAC,WAAUiB,E,EAehB,SAAwCC,GACtC,MAAMC,EAASD,EAASE,QAAO,CAACC,EAAKC,KACnCA,EAAGC,MACHF,GAAO,mCAAmCC,EAAGE,iFAEXF,EAAGG,iFAGxBH,EAAGI,wBACHJ,EAAGK,IAAML,EAAGK,IAAM,0IAMzBL,EAAGE,oIAI6BF,EAAGC,qDACLD,EAAGM,4FAENN,EAAGO,6DACGP,EAAGQ,aACxCR,EAAGE,2FAKJ,IACHtC,EAAQ6C,mBAAmB,YAAaZ,E,CAzCpCa,EADiB,EAAAjC,EAAAkC,gBAAenB,KAEhC,EAAAf,EAAAmC,cACA,EAAAnC,EAAAoC,iD,CAEF,MAAOC,GACPC,QAAQC,IAAIF,GACZ1B,EAAAC,QAAQK,M,CAEVN,EAAAC,QAAQK,M,CA3BNuB,OACK,CACL,MAAMtB,EAAO,uDACb,EAAAlB,EAAAC,WAAUiB,E,gBCzBd,MAAMuB,EAAO,CACXC,SAAUtD,SAASuD,eAAe,SAClCC,WAAYxD,SAASC,cAAc,mBACnCwD,WAAYzD,SAASC,cAAc,gBACnCyD,UAAW1D,SAASC,cAAc,eAClC0D,QAAS3D,SAASC,cAAc,aAChC2D,SAAU5D,SAASC,cAAc,cACjC4D,YAAa7D,SAASC,cAAc,iBACpC6D,SAAU9D,SAASC,cAAc,oBAG7B8D,EAAaC,aAAaC,QAAQ,SAEpCF,GACF/D,SAAS0B,KAAKnB,UAAU2D,IAAIH,EAAa,eAKhB,SAFAC,aAAaC,QAAQ,0BAG9CZ,EAAKC,SAASa,SAAU,EACxBnE,SAAS0B,KAAKnB,UAAU2D,IAAI,mBAC5Bb,EAAKI,WAAWlD,UAAU2D,IAAI,oBAC9Bb,EAAKK,UAAUnD,UAAU2D,IAAI,mBAC7Bb,EAAKM,QAAQpD,UAAU2D,IAAI,mBAC3Bb,EAAKO,SAASrD,UAAU2D,IAAI,mBAC5Bb,EAAKQ,YAAYtD,UAAU2D,IAAI,mBAC/Bb,EAAKS,SAASvD,UAAU2D,IAAI,mBAC5Bb,EAAKG,WAAWjD,UAAU2D,IAAI,oBAGhCb,EAAKC,SAASpD,iBAAiB,UAAU,WACvCF,SAAS0B,KAAKnB,UAAU6D,OAAO,mBAC/Bf,EAAKI,WAAWlD,UAAU6D,OAAO,oBACjCf,EAAKK,UAAUnD,UAAU6D,OAAO,mBAChCf,EAAKM,QAAQpD,UAAU6D,OAAO,mBAC9Bf,EAAKO,SAASrD,UAAU6D,OAAO,mBAC/Bf,EAAKQ,YAAYtD,UAAU6D,OAAO,mBAClCf,EAAKS,SAASvD,UAAU6D,OAAO,mBAC/Bf,EAAKG,WAAWjD,UAAU6D,OAAO,mBAInC,WAEsB,MAAdC,EAAQrE,SAAS0B,KAAKnB,UAAUC,SAAS,mBAC3C,OACA,QACJwD,aAAaM,QAAQ,QAASD,GAG9B,MAAME,EAAgBlB,EAAKC,SAASa,QACpCH,aAAaM,QAAQ,uBAAwBC,E,CAZ7CC,E,ICxCF,MAAMC,EAAO,CACXC,eAAgB1E,SAASuD,eAAe,gBACxCC,WAAYxD,SAASC,cAAc,mBACnCwD,WAAYzD,SAASC,cAAc,gBACnCyD,UAAW1D,SAASC,cAAc,eAClC0D,QAAS3D,SAASC,cAAc,iBAChC2D,SAAU5D,SAASC,cAAc,kBACjC4D,YAAa7D,SAASC,cAAc,iBACpC6D,SAAU9D,SAASC,cAAc,mBACjC0E,SAAU3E,SAASC,cAAc,uBACjC2E,UAAW5E,SAASC,cAAc,8BAI9B4E,EAAab,aAAaC,QAAQ,gBAEpCY,GACF7E,SAAS0B,KAAKnB,UAAU2D,IAAIW,EAAa,eAOV,SAJAb,aAAaC,QAC5C,iCAIAQ,EAAKC,eAAeP,SAAU,EAC9BnE,SAAS0B,KAAKnB,UAAU2D,IAAI,mBAC5BO,EAAKhB,WAAWlD,UAAU2D,IAAI,oBAC9BO,EAAKf,UAAUnD,UAAU2D,IAAI,mBAC7BO,EAAKd,QAAQpD,UAAU2D,IAAI,mBAC3BO,EAAKb,SAASrD,UAAU2D,IAAI,mBAC5BO,EAAKZ,YAAYtD,UAAU2D,IAAI,mBAC/BO,EAAKX,SAASvD,UAAU2D,IAAI,mBAC5BO,EAAKjB,WAAWjD,UAAU2D,IAAI,mBAC9BO,EAAKE,SAASpE,UAAU2D,IAAI,mBAC5BO,EAAKG,UAAUrE,UAAU2D,IAAI,oBAG/BO,EAAKC,eAAexE,iBAAiB,UAAU,WAC7CF,SAAS0B,KAAKnB,UAAU6D,OAAO,mBAC/BK,EAAKhB,WAAWlD,UAAU6D,OAAO,oBACjCK,EAAKf,UAAUnD,UAAU6D,OAAO,mBAChCK,EAAKd,QAAQpD,UAAU6D,OAAO,mBAC9BK,EAAKb,SAASrD,UAAU6D,OAAO,mBAC/BK,EAAKZ,YAAYtD,UAAU6D,OAAO,mBAClCK,EAAKX,SAASvD,UAAU6D,OAAO,mBAC/BK,EAAKjB,WAAWjD,UAAU6D,OAAO,mBACjCK,EAAKE,SAASpE,UAAU6D,OAAO,mBAC/BK,EAAKG,UAAUrE,UAAU6D,OAAO,mBAIlC,WAEsB,MAAdC,EAAQrE,SAAS0B,KAAKnB,UAAUC,SAAS,mBAC3C,OACA,QACJwD,aAAaM,QAAQ,eAAgBD,GAGrC,MAAMS,EAAsBL,EAAKC,eAAeP,QAChDH,aAAaM,QAAQ,8BAA+BQ,E,CAZpDC,E,ICjDFxD,EAAA9B,EAAA,S,0BASA,MAAMuF,EAAShF,SAASuD,eAAe,eACjC0B,EAAYjF,SAASC,cAAc,sBAEzC+E,EAAO9E,iBAAiB,UAExBoB,eAA4BnB,GAC1BA,EAAE+E,kBACF,EAAAtE,EAAAmC,aACAxB,EAAAC,QAAQC,KAAKzB,SAAS0B,MACtB,MAAMyD,EAAchF,EAAEC,OAAOgF,SAASC,YAAYC,MAE5CC,QAAavE,EAAAC,MAAMW,WAAW,cACpC,IAAK2D,EAGH,OAFA,EAAA3E,EAAAC,WAAU,gDACVU,EAAAC,QAAQK,OAGV,MAEM2D,GAFW,EAAA5E,EAAAkC,gBAAeyC,GAELE,QACzBC,GACEA,EAAIjD,MAAMkD,cAAcC,SAAST,EAAYQ,cAAcE,SAC3DH,EAAIpD,SAASqD,cAAcC,SAAST,EAAYQ,cAAcE,SAC9DH,EAAItD,MAAMuD,cAAcC,SAAST,EAAYQ,cAAcE,UAG3DL,EAAU7E,OAAS,IAUzB,SAAgBmF,GACd,MAAM9D,EAAS8D,EAAI7D,QAAO,CAACC,EAAKC,IAC9BD,GAAO,mDAAmDC,EAAGE,iFAE3BF,EAAGG,iFAGxBH,EAAGI,wBACHJ,EAAGK,IAAML,EAAGK,IAAM,0IAMzBL,EAAGE,oIAI6BF,EAAGC,qDACLD,EAAGM,4FAENN,EAAGO,6DACGP,EAAGQ,aACxCR,EAAGE,0FAKJ,IAEH4C,EAAUc,UAAY/D,C,CAvCpBgE,CAAOR,IACP,EAAA5E,EAAAoC,oDAEA,EAAApC,EAAAC,WAAU,2CAEZmE,EAAOiB,QACP1E,EAAAC,QAAQK,M","sources":["src/favorite.js","src/scripts/favorite/favoriteBlock.js","src/scripts/favorite/themeFavorite.js","src/scripts/favorite/themeFavoriteMobile.js","src/scripts/favorite/searchNewsfromFavoriteStorage.js"],"sourcesContent":["import './scripts/common/current';\nimport './scripts/common/mobileMenu';\nimport './scripts/common/authMenu';\nimport './scripts/firebase/authState';\nimport './scripts/firebase/logIn';\nimport './scripts/firebase/logOut';\nimport './scripts/favorite/favoriteBlock';\nimport './scripts/common/newsCardFromStorage';\nimport './scripts/favorite/themeFavorite';\nimport './scripts/favorite/themeFavoriteMobile';\nimport './scripts/favorite/searchNewsfromFavoriteStorage';\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nimport { spinner } from '../common/libraries';\nimport { app } from '../firebase/firebaseApi';\nimport { users } from '../common/fetchUser';\nimport {\n  addClassesForCoincidencesMarkupAndStoragePages,\n  showModal,\n  hideModal,\n  createDataList,\n} from '../common/commonFunctions';\n\nconst auth = getAuth(app);\nconst gallery = document.querySelector('.gallery-container');\n\ngallery.addEventListener('click', onClickRemoveBtn);\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(user.displayName, user.email, user.uid);\n    onLoadFavoriteNews();\n  } else {\n    const mess = 'Log in to your account to view their selected news!';\n    showModal(mess);\n  }\n}\n\nasync function onLoadFavoriteNews() {\n  spinner.spin(document.body);\n  try {\n    const favourite = await users.getAllData('favourites');\n\n    if (!favourite) {\n      spinner.stop();\n      const mess = \"Sorry! You haven't added anything to your favorites yet\";\n      showModal(mess);\n      return;\n    } else {\n      const dataList = createDataList(favourite);\n      renderFavouriteCardFromStorage(dataList);\n      hideModal();\n      addClassesForCoincidencesMarkupAndStoragePages();\n    }\n  } catch (error) {\n    console.log(error);\n    spinner.stop();\n  }\n  spinner.stop();\n}\n\nfunction renderFavouriteCardFromStorage(dataList) {\n  const markUp = dataList.reduce((acc, el) => {\n    el.title;\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n  gallery.insertAdjacentHTML('beforeend', markUp);\n}\n\nfunction onClickRemoveBtn(e) {\n  if (e.target.tagName === 'BUTTON') {\n    if (\n      !e.target.parentNode.parentNode.parentNode.classList.contains(\n        'found-news-card'\n      )\n    ) {\n      e.target.parentNode.parentNode.parentNode.remove();\n      if (!gallery.children.length) {\n        showModal(\"Sorry! You haven't added anything to your favorites yet\");\n      }\n    }\n  }\n}\n","const refs = {\n  checkbox: document.getElementById('theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun'),\n  iconMoon: document.querySelector('.icon-moon'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n};\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxState = localStorage.getItem('theme-checkbox-state');\n\nif (savedCheckboxState === 'true') {\n  refs.checkbox.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n}\n\nrefs.checkbox.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  changeThemeMobile();\n});\n\nfunction changeThemeMobile() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme', theme);\n\n  // збереження стану чекбокса\n  const checkboxState = refs.checkbox.checked;\n  localStorage.setItem('theme-checkbox-state', checkboxState);\n}\n","const refs = {\n  checkboxMobile: document.getElementById('mobile-theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun-mob'),\n  iconMoon: document.querySelector('.icon-moon-mob'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n  menuIcon: document.querySelector('.menu-toggle__icons'),\n  menuCross: document.querySelector('.menu-toggle__icons-cross'),\n};\n\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme-mobile');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxMobileState = localStorage.getItem(\n  'theme-checkbox-state-mobile'\n);\n\nif (savedCheckboxMobileState === 'true') {\n  refs.checkboxMobile.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n  refs.menuIcon.classList.add('dark-theme-site');\n  refs.menuCross.classList.add('dark-theme-site');\n}\n\nrefs.checkboxMobile.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  refs.menuIcon.classList.toggle('dark-theme-site');\n  refs.menuCross.classList.toggle('dark-theme-site');\n  changeTheme();\n});\n\nfunction changeTheme() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme-mobile', theme);\n\n  // збереження стану чекбокса\n  const checkboxMobileState = refs.checkboxMobile.checked;\n  localStorage.setItem('theme-checkbox-state-mobile', checkboxMobileState);\n}\n","import { spinner } from '../common/libraries';\nimport {\n  showModal,\n  hideModal,\n  addClassesForCoincidencesMarkupAndStoragePages,\n  createDataList,\n} from '../common/commonFunctions';\nimport { users } from '../common/fetchUser';\n\nconst formEl = document.getElementById('search-form');\nconst galleryEl = document.querySelector('.gallery-container');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  hideModal();\n  spinner.spin(document.body);\n  const searchValue = e.target.elements.searchQuery.value;\n\n  const data = await users.getAllData('favourites');\n  if (!data) {\n    showModal('Nothing was found matching your search!');\n    spinner.stop();\n    return;\n  }\n  const dataList = createDataList(data);\n\n  const newArrObj = dataList.filter(\n    obj =>\n      obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n  );\n\n  if (newArrObj.length > 0) {\n    render(newArrObj);\n    addClassesForCoincidencesMarkupAndStoragePages();\n  } else {\n    showModal('Nothing was found matching your search!');\n  }\n  formEl.reset();\n  spinner.stop();\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card found-news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  galleryEl.innerHTML = markUp;\n}\n"],"names":["parcelRequire","$eyjy7","$8c0918e077154235$var$auth","getAuth","$krqL4","app","$8c0918e077154235$var$gallery","document","querySelector","addEventListener","e","target","tagName","parentNode","classList","contains","remove","children","length","$irLYq","showModal","onAuthStateChanged","user","$jKfAL","users","updateProfile","displayName","email","uid","async","$7B1mV","spinner","spin","body","favourite","getAllData","stop","mess","dataList","markUp","reduce","acc","el","title","id","category","img","alt","descr","dateArticle","link","insertAdjacentHTML","$8c0918e077154235$var$renderFavouriteCardFromStorage","createDataList","hideModal","addClassesForCoincidencesMarkupAndStoragePages","error","console","log","$8c0918e077154235$var$onLoadFavoriteNews","$7801296c56e2f518$var$refs","checkbox","getElementById","mobileMenu","lightLabel","darkLabel","iconSun","iconMoon","searchInput","queryBtn","$7801296c56e2f518$var$savedTheme","localStorage","getItem","add","checked","toggle","theme","setItem","checkboxState","$7801296c56e2f518$var$changeThemeMobile","$c392678f1e6e7a58$var$refs","checkboxMobile","menuIcon","menuCross","$c392678f1e6e7a58$var$savedTheme","checkboxMobileState","$c392678f1e6e7a58$var$changeTheme","$5f75c2458661c240$var$formEl","$5f75c2458661c240$var$galleryEl","preventDefault","searchValue","elements","searchQuery","value","data","newArrObj","filter","obj","toLowerCase","includes","trim","arr","innerHTML","$5f75c2458661c240$var$render","reset"],"version":3,"file":"favorite.10b65dd6.js.map"}