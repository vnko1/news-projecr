var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},e.parcelRequired7c6=n),n("6aCLh"),n("J9Bl9"),n("kuWPD"),n("3lP9e"),n("8QvHW"),n("iIJoo");var a=n("eyjy7"),o=n("7B1mV"),i=n("krqL4"),c=n("jKfAL"),r=n("irLYq");o=n("7B1mV"),r=n("irLYq"),c=n("jKfAL");const d=document.querySelector(".gallery-container"),l=document.getElementById("search-form");async function m(e){e.preventDefault(),(0,r.hideModal)(),o.spinner.spin(document.body);const t=e.target.elements.searchQuery.value;try{const e=await c.users.getAllData("favourites");if(!e)return(0,r.showModal)("Nothing was found matching your search!"),void o.spinner.stop();const s=(0,r.createDataList)(e).filter((e=>e.descr.toLowerCase().includes(t.toLowerCase().trim())||e.category.toLowerCase().includes(t.toLowerCase().trim())||e.title.toLowerCase().includes(t.toLowerCase().trim())));s.length>0?(!function(e){const t=e.reduce(((e,t)=>e+=`<div class="news-card found-news-card" news-id="${t.id}">\n      <div class="news-card__img">\n        <p class="news-card__theme">${t.category}</p>\n        <img\n          class="news-card__item"\n          src="${t.img}"\n          alt="${t.alt?t.alt:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${t.title}</h2>\n      <p class="news-card__info-text">${t.descr}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${t.dateArticle}</p>\n        <a class="news-card__more" href="${t.link}" id="${t.id}" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>`),"");d.innerHTML=t}(s),(0,r.addClassesForCoincidencesMarkupAndStoragePages)()):(0,r.showModal)("Nothing was found matching your search!")}catch(e){console.log(e),o.spinner.stop()}l.reset(),o.spinner.stop()}const u=(0,a.getAuth)(i.app),h=document.querySelector(".gallery-container"),g=document.getElementById("search-form");h.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(e.target.parentNode.parentNode.parentNode.classList.contains("found-news-card")||(e.target.parentNode.parentNode.parentNode.classList.add("scale"),setTimeout((()=>{e.target.parentNode.parentNode.parentNode.remove(),h.children.length||(0,r.showModal)("Sorry! You haven't added anything to your favorites yet")}),600)))})),(0,a.onAuthStateChanged)(u,(function(e){if(e)c.users.updateProfile(e.displayName,e.email,e.uid,e.accessToken),async function(){o.spinner.spin(document.body);try{const e=await c.users.getAllData("favourites");if(!e){o.spinner.stop();const e="Sorry! You haven't added anything to your favorites yet";return void(0,r.showModal)(e)}!function(e){const t=e.reduce(((e,t)=>(t.title,e+=`<div class="news-card" news-id="${t.id}">\n      <div class="news-card__img">\n        <p class="news-card__theme">${t.category}</p>\n        <img\n          class="news-card__item"\n          src="${t.img}"\n          alt="${t.alt?t.alt:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${t.title}</h2>\n      <p class="news-card__info-text">${t.descr}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${t.dateArticle}</p>\n        <a class="news-card__more" href="${t.link}" id="${t.id}" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>`)),"");h.insertAdjacentHTML("beforeend",t)}((0,r.createDataList)(e)),(0,r.hideModal)(),(0,r.addClassesForCoincidencesMarkupAndStoragePages)()}catch(e){console.log(e),o.spinner.stop()}o.spinner.stop()}(),g.removeEventListener("submit",r.onFormMessage),g.addEventListener("submit",m);else{const e="Log in to your account to view your selected news!";(0,r.showModal)(e),g.removeEventListener("submit",m),g.addEventListener("submit",r.onFormMessage)}})),n("3F1U7");const L={checkbox:document.getElementById("theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun"),iconMoon:document.querySelector(".icon-moon"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon")},b=localStorage.getItem("theme");b&&document.body.classList.add(b+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state")&&(L.checkbox.checked=!0,document.body.classList.add("dark-theme-site"),L.lightLabel.classList.add("light-theme-site"),L.darkLabel.classList.add("dark-theme-site"),L.iconSun.classList.add("dark-theme-site"),L.iconMoon.classList.add("dark-theme-site"),L.searchInput.classList.add("dark-theme-site"),L.queryBtn.classList.add("dark-theme-site"),L.mobileMenu.classList.add("dark-theme-site")),L.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),L.lightLabel.classList.toggle("light-theme-site"),L.darkLabel.classList.toggle("dark-theme-site"),L.iconSun.classList.toggle("dark-theme-site"),L.iconMoon.classList.toggle("dark-theme-site"),L.searchInput.classList.toggle("dark-theme-site"),L.queryBtn.classList.toggle("dark-theme-site"),L.mobileMenu.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme",e);const t=L.checkbox.checked;localStorage.setItem("theme-checkbox-state",t)}()}));const y={checkboxMobile:document.getElementById("mobile-theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun-mob"),iconMoon:document.querySelector(".icon-moon-mob"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),menuIcon:document.querySelector(".menu-toggle__icons"),menuCross:document.querySelector(".menu-toggle__icons-cross")},k=localStorage.getItem("theme-mobile");k&&document.body.classList.add(k+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state-mobile")&&(y.checkboxMobile.checked=!0,document.body.classList.add("dark-theme-site"),y.lightLabel.classList.add("light-theme-site"),y.darkLabel.classList.add("dark-theme-site"),y.iconSun.classList.add("dark-theme-site"),y.iconMoon.classList.add("dark-theme-site"),y.searchInput.classList.add("dark-theme-site"),y.queryBtn.classList.add("dark-theme-site"),y.mobileMenu.classList.add("dark-theme-site"),y.menuIcon.classList.add("dark-theme-site"),y.menuCross.classList.add("dark-theme-site")),y.checkboxMobile.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),y.lightLabel.classList.toggle("light-theme-site"),y.darkLabel.classList.toggle("dark-theme-site"),y.iconSun.classList.toggle("dark-theme-site"),y.iconMoon.classList.toggle("dark-theme-site"),y.searchInput.classList.toggle("dark-theme-site"),y.queryBtn.classList.toggle("dark-theme-site"),y.mobileMenu.classList.toggle("dark-theme-site"),y.menuIcon.classList.toggle("dark-theme-site"),y.menuCross.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme-mobile",e);const t=y.checkboxMobile.checked;localStorage.setItem("theme-checkbox-state-mobile",t)}()}));
//# sourceMappingURL=favorite.2c97fc0d.js.map
