!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired7c6=s),s("kzAJu"),s("9QlH3"),s("egKc1"),s("lkA0f"),s("2WEMS"),s("eGpmk");var o=s("bpxeT"),r=s("2TvXO"),c=s("gQOBw"),i=s("l4tBk"),d=s("9IEE9"),l=s("dIGoD"),u=s("f6M8X"),m=(o=s("bpxeT"),r=s("2TvXO"),i=s("l4tBk"),u=s("f6M8X"),l=s("dIGoD"),document.querySelector(".gallery-container")),h=document.getElementById("search-form");function g(e){return p.apply(this,arguments)}function p(){return(p=e(o)(e(r).mark((function t(n){var a,s,o,c;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),(0,u.hideModal)(),i.spinner.spin(document.body),a=n.target.elements.searchQuery.value,e.prev=4,e.next=7,l.users.getAllData("favourites");case 7:if(s=e.sent){e.next=12;break}return(0,u.showModal)("Nothing was found matching your search!"),i.spinner.stop(),e.abrupt("return");case 12:o=(0,u.createDataList)(s),(c=o.filter((function(e){return e.descr.toLowerCase().includes(a.toLowerCase().trim())||e.category.toLowerCase().includes(a.toLowerCase().trim())||e.title.toLowerCase().includes(a.toLowerCase().trim())}))).length>0?(b(c),(0,u.addClassesForCoincidencesMarkupAndStoragePages)()):(0,u.showModal)("Nothing was found matching your search!"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0),i.spinner.stop();case 21:h.reset(),i.spinner.stop();case 23:case"end":return e.stop()}}),t,null,[[4,17]])})))).apply(this,arguments)}function b(e){var t=e.reduce((function(e,t){return e+='<div class="news-card found-news-card" news-id="'.concat(t.id,'">\n      <div class="news-card__img">\n        <p class="news-card__theme">').concat(t.category,'</p>\n        <img\n          class="news-card__item"\n          src="').concat(t.img,'"\n          alt="').concat(t.alt?t.alt:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id =\'').concat(t.id,'\' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title,'</h2>\n      <p class="news-card__info-text">').concat(t.descr,'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.dateArticle,'</p>\n        <a class="news-card__more" href="').concat(t.link,'" id="').concat(t.id,'" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>')}),"");m.innerHTML=t}var k=(0,c.getAuth)(d.app),f=document.querySelector(".gallery-container"),y=document.getElementById("search-form");function L(){return(L=e(o)(e(r).mark((function t(){var n;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.spinner.spin(document.body),e.prev=1,e.next=4,l.users.getAllData("favourites");case 4:if(n=e.sent){e.next=12;break}return i.spinner.stop(),"Sorry! You haven't added anything to your favorites yet",(0,u.showModal)("Sorry! You haven't added anything to your favorites yet"),e.abrupt("return");case 12:v((0,u.createDataList)(n)),(0,u.hideModal)(),(0,u.addClassesForCoincidencesMarkupAndStoragePages)();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),i.spinner.stop();case 19:i.spinner.stop();case 20:case"end":return e.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function v(e){var t=e.reduce((function(e,t){return t.title,e+='<div class="news-card" news-id="'.concat(t.id,'">\n      <div class="news-card__img">\n        <p class="news-card__theme">').concat(t.category,'</p>\n        <img\n          class="news-card__item"\n          src="').concat(t.img,'"\n          alt="').concat(t.alt?t.alt:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id =\'').concat(t.id,'\' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title,'</h2>\n      <p class="news-card__info-text">').concat(t.descr,'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.dateArticle,'</p>\n        <a class="news-card__more" href="').concat(t.link,'" id="').concat(t.id,'" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>')}),"");f.insertAdjacentHTML("beforeend",t)}f.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(e.target.parentNode.parentNode.parentNode.classList.contains("found-news-card")||(e.target.parentNode.parentNode.parentNode.classList.add("scale"),setTimeout((function(){e.target.parentNode.parentNode.parentNode.remove(),f.children.length||(0,u.showModal)("Sorry! You haven't added anything to your favorites yet")}),600)))})),(0,c.onAuthStateChanged)(k,(function(e){if(e)l.users.updateProfile(e.displayName,e.email,e.uid,e.accessToken),function(){L.apply(this,arguments)}(),y.removeEventListener("submit",u.onFormMessage),y.addEventListener("submit",g);else{(0,u.showModal)("Log in to your account to view your selected news!"),y.removeEventListener("submit",g),y.addEventListener("submit",u.onFormMessage)}})),s("4tFZ4");var w={checkbox:document.getElementById("theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun"),iconMoon:document.querySelector(".icon-moon"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon")},_=localStorage.getItem("theme");_&&document.body.classList.add(_+"-theme-site"),"true"===localStorage.getItem("theme-checkbox-state")&&(w.checkbox.checked=!0,document.body.classList.add("dark-theme-site"),w.lightLabel.classList.add("light-theme-site"),w.darkLabel.classList.add("dark-theme-site"),w.iconSun.classList.add("dark-theme-site"),w.iconMoon.classList.add("dark-theme-site"),w.searchInput.classList.add("dark-theme-site"),w.queryBtn.classList.add("dark-theme-site"),w.mobileMenu.classList.add("dark-theme-site")),w.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),w.lightLabel.classList.toggle("light-theme-site"),w.darkLabel.classList.toggle("dark-theme-site"),w.iconSun.classList.toggle("dark-theme-site"),w.iconMoon.classList.toggle("dark-theme-site"),w.searchInput.classList.toggle("dark-theme-site"),w.queryBtn.classList.toggle("dark-theme-site"),w.mobileMenu.classList.toggle("dark-theme-site"),function(){var e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme",e);var t=w.checkbox.checked;localStorage.setItem("theme-checkbox-state",t)}()}));var S={checkboxMobile:document.getElementById("mobile-theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun-mob"),iconMoon:document.querySelector(".icon-moon-mob"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),menuIcon:document.querySelector(".menu-toggle__icons"),menuCross:document.querySelector(".menu-toggle__icons-cross")},M=localStorage.getItem("theme-mobile");M&&document.body.classList.add(M+"-theme-site"),"true"===localStorage.getItem("theme-checkbox-state-mobile")&&(S.checkboxMobile.checked=!0,document.body.classList.add("dark-theme-site"),S.lightLabel.classList.add("light-theme-site"),S.darkLabel.classList.add("dark-theme-site"),S.iconSun.classList.add("dark-theme-site"),S.iconMoon.classList.add("dark-theme-site"),S.searchInput.classList.add("dark-theme-site"),S.queryBtn.classList.add("dark-theme-site"),S.mobileMenu.classList.add("dark-theme-site"),S.menuIcon.classList.add("dark-theme-site"),S.menuCross.classList.add("dark-theme-site")),S.checkboxMobile.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),S.lightLabel.classList.toggle("light-theme-site"),S.darkLabel.classList.toggle("dark-theme-site"),S.iconSun.classList.toggle("dark-theme-site"),S.iconMoon.classList.toggle("dark-theme-site"),S.searchInput.classList.toggle("dark-theme-site"),S.queryBtn.classList.toggle("dark-theme-site"),S.mobileMenu.classList.toggle("dark-theme-site"),S.menuIcon.classList.toggle("dark-theme-site"),S.menuCross.classList.toggle("dark-theme-site"),function(){var e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme-mobile",e);var t=S.checkboxMobile.checked;localStorage.setItem("theme-checkbox-state-mobile",t)}()}))}();
//# sourceMappingURL=favorite.328e6be8.js.map
