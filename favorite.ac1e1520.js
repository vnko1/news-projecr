!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var s={id:e,exports:{}};return a[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=s),s("kzAJu"),s("9QlH3"),s("egKc1"),s("lkA0f"),s("2WEMS"),s("eGpmk");var o=s("bpxeT"),c=s("2TvXO"),r=s("gQOBw"),i=s("l4tBk"),d=s("9IEE9"),l=s("dIGoD"),u=s("f6M8X"),m=(0,r.getAuth)(d.app),h=document.querySelector(".gallery-container");function g(){return(g=e(o)(e(c).mark((function t(){var a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.spinner.spin(document.body),e.prev=1,e.next=4,l.users.getAllData("favourites");case 4:if(a=e.sent){e.next=12;break}return i.spinner.stop(),"Sorry! You haven't added anything to your favorites yet",(0,u.showModal)("Sorry! You haven't added anything to your favorites yet"),e.abrupt("return");case 12:p((0,u.createDataList)(a)),(0,u.hideModal)(),(0,u.addClassesForCoincidencesMarkupAndStoragePages)();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),i.spinner.stop();case 19:i.spinner.stop();case 20:case"end":return e.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function p(e){var t=e.reduce((function(e,t){return t.title,e+='<div class="news-card" news-id="'.concat(t.id,'">\n      <div class="news-card__img">\n        <p class="news-card__theme">').concat(t.category,'</p>\n        <img\n          class="news-card__item"\n          src="').concat(t.img,'"\n          alt="').concat(t.alt?t.alt:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id =\'').concat(t.id,'\' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title,'</h2>\n      <p class="news-card__info-text">').concat(t.descr,'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.dateArticle,'</p>\n        <a class="news-card__more" href="').concat(t.link,'" id="').concat(t.id,'" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>')}),"");h.insertAdjacentHTML("beforeend",t)}h.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(e.target.parentNode.parentNode.parentNode.classList.contains("found-news-card")||(e.target.parentNode.parentNode.parentNode.classList.add("scale"),setTimeout((function(){e.target.parentNode.parentNode.parentNode.remove(),h.children.length||(0,u.showModal)("Sorry! You haven't added anything to your favorites yet")}),600)))})),(0,r.onAuthStateChanged)(m,(function(e){if(e)l.users.updateProfile(e.displayName,e.email,e.uid,e.accessToken),function(){g.apply(this,arguments)}();else{(0,u.showModal)("Log in to your account to view your selected news!")}})),s("4tFZ4");var b={checkbox:document.getElementById("theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun"),iconMoon:document.querySelector(".icon-moon"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon")},k=localStorage.getItem("theme");k&&document.body.classList.add(k+"-theme-site"),"true"===localStorage.getItem("theme-checkbox-state")&&(b.checkbox.checked=!0,document.body.classList.add("dark-theme-site"),b.lightLabel.classList.add("light-theme-site"),b.darkLabel.classList.add("dark-theme-site"),b.iconSun.classList.add("dark-theme-site"),b.iconMoon.classList.add("dark-theme-site"),b.searchInput.classList.add("dark-theme-site"),b.queryBtn.classList.add("dark-theme-site"),b.mobileMenu.classList.add("dark-theme-site")),b.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),b.lightLabel.classList.toggle("light-theme-site"),b.darkLabel.classList.toggle("dark-theme-site"),b.iconSun.classList.toggle("dark-theme-site"),b.iconMoon.classList.toggle("dark-theme-site"),b.searchInput.classList.toggle("dark-theme-site"),b.queryBtn.classList.toggle("dark-theme-site"),b.mobileMenu.classList.toggle("dark-theme-site"),function(){var e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme",e);var t=b.checkbox.checked;localStorage.setItem("theme-checkbox-state",t)}()}));var f={checkboxMobile:document.getElementById("mobile-theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun-mob"),iconMoon:document.querySelector(".icon-moon-mob"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),menuIcon:document.querySelector(".menu-toggle__icons"),menuCross:document.querySelector(".menu-toggle__icons-cross")},y=localStorage.getItem("theme-mobile");y&&document.body.classList.add(y+"-theme-site"),"true"===localStorage.getItem("theme-checkbox-state-mobile")&&(f.checkboxMobile.checked=!0,document.body.classList.add("dark-theme-site"),f.lightLabel.classList.add("light-theme-site"),f.darkLabel.classList.add("dark-theme-site"),f.iconSun.classList.add("dark-theme-site"),f.iconMoon.classList.add("dark-theme-site"),f.searchInput.classList.add("dark-theme-site"),f.queryBtn.classList.add("dark-theme-site"),f.mobileMenu.classList.add("dark-theme-site"),f.menuIcon.classList.add("dark-theme-site"),f.menuCross.classList.add("dark-theme-site")),f.checkboxMobile.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),f.lightLabel.classList.toggle("light-theme-site"),f.darkLabel.classList.toggle("dark-theme-site"),f.iconSun.classList.toggle("dark-theme-site"),f.iconMoon.classList.toggle("dark-theme-site"),f.searchInput.classList.toggle("dark-theme-site"),f.queryBtn.classList.toggle("dark-theme-site"),f.mobileMenu.classList.toggle("dark-theme-site"),f.menuIcon.classList.toggle("dark-theme-site"),f.menuCross.classList.toggle("dark-theme-site"),function(){var e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme-mobile",e);var t=f.checkboxMobile.checked;localStorage.setItem("theme-checkbox-state-mobile",t)}()}));o=s("bpxeT"),c=s("2TvXO"),i=s("l4tBk"),u=s("f6M8X"),l=s("dIGoD");var L=document.getElementById("search-form"),v=document.querySelector(".gallery-container");function w(){return(w=e(o)(e(c).mark((function t(a){var n,s,o,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(0,u.hideModal)(),i.spinner.spin(document.body),n=a.target.elements.searchQuery.value,e.next=6,l.users.getAllData("favourites");case 6:if(s=e.sent){e.next=11;break}return(0,u.showModal)("Nothing was found matching your search!"),i.spinner.stop(),e.abrupt("return");case 11:o=(0,u.createDataList)(s),(r=o.filter((function(e){return e.descr.toLowerCase().includes(n.toLowerCase().trim())||e.category.toLowerCase().includes(n.toLowerCase().trim())||e.title.toLowerCase().includes(n.toLowerCase().trim())}))).length>0?(_(r),(0,u.addClassesForCoincidencesMarkupAndStoragePages)()):(0,u.showModal)("Nothing was found matching your search!"),L.reset(),i.spinner.stop();case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _(e){var t=e.reduce((function(e,t){return e+='<div class="news-card found-news-card" news-id="'.concat(t.id,'">\n      <div class="news-card__img">\n        <p class="news-card__theme">').concat(t.category,'</p>\n        <img\n          class="news-card__item"\n          src="').concat(t.img,'"\n          alt="').concat(t.alt?t.alt:"photo",'"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id =\'').concat(t.id,'\' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">').concat(t.title,'</h2>\n      <p class="news-card__info-text">').concat(t.descr,'</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">').concat(t.dateArticle,'</p>\n        <a class="news-card__more" href="').concat(t.link,'" id="').concat(t.id,'" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>')}),"");v.innerHTML=t}L.addEventListener("submit",(function(e){return w.apply(this,arguments)}))}();
//# sourceMappingURL=favorite.ac1e1520.js.map
