var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var a=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},e.parcelRequired7c6=a),a("6aCLh"),a("J9Bl9"),a("kuWPD"),a("3lP9e"),a("8QvHW"),a("iIJoo");var n=a("eyjy7"),o=a("7B1mV"),i=a("krqL4"),r=a("jKfAL"),c=a("irLYq");o=a("7B1mV"),c=a("irLYq"),r=a("jKfAL");const l=document.querySelector(".gallery-container"),d=document.getElementById("search-form");async function m(e){e.preventDefault(),(0,c.hideModal)(),o.spinner.spin(document.body);const t=e.target.elements.searchQuery.value;try{const e=await r.users.getAllData("readMore");if(!e)return(0,c.showModal)("Nothing was found matching your search!"),void o.spinner.stop();const s=(0,c.createDataList)(e).filter((e=>e.descr.toLowerCase().includes(t.toLowerCase().trim())||e.category.toLowerCase().includes(t.toLowerCase().trim())||e.title.toLowerCase().includes(t.toLowerCase().trim())));s.length>0?(!function(e){const t=e.reduce(((e,t)=>e+=`<div class="news-card" news-id="${t.id}">\n      <div class="news-card__img">\n        <p class="news-card__theme">${t.category}</p>\n        <img\n          class="news-card__item"\n          src="${t.img}"\n          alt="${t.alt?t.alt:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id ='${t.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${t.title.limit(50,{ending:""})}</h2>\n      <p class="news-card__info-text">${t.descr.limit(120)}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${t.dateArticle}</p>\n        <a class="news-card__more" href="${t.link}" id="${t.id}" target="_blank" rel="noreferrer noopener"}>Read more</a>\n      </div>\n    </div>`),"");l.innerHTML=t,l.classList.add("read-search")}(s),(0,c.addClassesForCoincidencesMarkupAndStoragePages)()):(0,c.showModal)()}catch(e){console.log(e),o.spinner.stop()}d.reset(),o.spinner.stop()}const u=(0,n.getAuth)(i.app),h=document.getElementById("ul-gallery"),g=document.getElementById("search-form");(0,n.onAuthStateChanged)(u,(function(e){if(e)r.users.updateProfile(e.displayName,e.email,e.uid,e.accessToken),async function(){o.spinner.spin(document.body);try{const e=await r.users.getAllData("readMore");if(!e){o.spinner.stop();const e="Sorry! You haven't added anything to your read page yet";return void(0,c.showModal)(e)}!function(e){let t="";const s=e.map((e=>e.date)),a=[...s].sort(((e,t)=>t-e)).map((e=>{const t=new Date(e);return`${String(t.getDate()).padStart(2,0)}/${String(t.getMonth()+1).padStart(2,0)}/${String(t.getFullYear())}`})).filter(((e,t,s)=>s.indexOf(e)===t)),n=e.reduce(((e,t)=>{const s={},a=new Date(t.date);return s.date=`${String(a.getDate()).padStart(2,0)}/${String(a.getMonth()+1).padStart(2,0)}/${String(a.getFullYear())}`,s.img=t.img,s.descr=t.descr,s.title=t.title,s.link=t.link,s.alt=t.alt,s.category=t.category,s.id=t.id,s.dateArticle=t.dateArticle,e.push(s),e}),[]);for(let e of a){t+=`<li>\n            <div class="date-wrap">\n                <p class="cards-date">${e}\n                   <svg class="arrow-read" width="15" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                     <path d="M1.762 9 0 7.287 7.5 0 15 7.287 13.238 9 7.5 3.437 1.763 9Z" fill=""/>\n                   </svg>\n                   <svg class="arrow-read visually-hidden" width="15" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">\n                     <path d="M1.762 0 0 1.713 7.5 9 15 1.713 13.238 0 7.5 5.563 1.763 0Z" fill=""/>\n                   </svg>\n                </p>\n                <div class="clicker"></div>\n            </div>\n            <div class="news-item">\n                <div class="news-wrap">`+n.filter((t=>t.date===e)).map((e=>`<div class="news-card" news-id="${e.id}">\n      <div class="news-card__img">\n        <p class="news-card__theme">${e.category}</p>\n        <img\n          class="news-card__item"\n          src="${e.img}"\n          alt="${e.alt?e.alt:"photo"}"\n          loading="lazy"\n          width="395"\n        />\n        <div class="news-card__favorite">\n        <button id ='${e.id}' class="mybtn label-favorite">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class="news-card__info-title">${e.title.limit(50,{ending:""})}</h2>\n      <p class="news-card__info-text">${e.descr.limit(120)}</p>\n      <div class="news-card__additional">\n        <p class="news-card__date">${e.dateArticle}</p>\n        <a class="news-card__more" href="${e.link}" id="${e.id}" target="_blank" rel="noreferrer noopener">Read more</a>\n      </div>\n    </div>`)).join("")+"</div></div></li>"}h.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".news-item").forEach((e=>e.style.maxHeight=e.scrollHeight+"px")),document.querySelectorAll(".cards-date").forEach((e=>e.addEventListener("click",(()=>{const t=e.children;for(let e of t)e.classList.toggle("visually-hidden");const s=e.parentNode.nextElementSibling;"0px"!==s.style.maxHeight?s.style.maxHeight="0px":s.style.maxHeight=s.scrollHeight+"px"}))))}((0,c.createDataList)(e)),(0,c.hideModal)(),(0,c.addClassesForCoincidencesMarkupAndStoragePages)()}catch(e){console.error(e),o.spinner.stop()}o.spinner.stop()}(),g.addEventListener("submit",m);else{const e="Log in to your account to view your read news!";(0,c.showModal)(e),g.addEventListener("submit",c.onFormMessage)}})),a("3F1U7");const p={checkbox:document.getElementById("theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun"),iconMoon:document.querySelector(".icon-moon"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon")},y=localStorage.getItem("theme");y&&document.body.classList.add(y+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state")&&(p.checkbox.checked=!0,document.body.classList.add("dark-theme-site"),p.lightLabel.classList.add("light-theme-site"),p.darkLabel.classList.add("dark-theme-site"),p.iconSun.classList.add("dark-theme-site"),p.iconMoon.classList.add("dark-theme-site"),p.searchInput.classList.add("dark-theme-site"),p.queryBtn.classList.add("dark-theme-site"),p.mobileMenu.classList.add("dark-theme-site")),p.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),p.lightLabel.classList.toggle("light-theme-site"),p.darkLabel.classList.toggle("dark-theme-site"),p.iconSun.classList.toggle("dark-theme-site"),p.iconMoon.classList.toggle("dark-theme-site"),p.searchInput.classList.toggle("dark-theme-site"),p.queryBtn.classList.toggle("dark-theme-site"),p.mobileMenu.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme",e);const t=p.checkbox.checked;localStorage.setItem("theme-checkbox-state",t)}()}));const L={checkboxMobile:document.getElementById("mobile-theme"),mobileMenu:document.querySelector(".menu-container"),lightLabel:document.querySelector(".light-label"),darkLabel:document.querySelector(".dark-label"),iconSun:document.querySelector(".icon-sun-mob"),iconMoon:document.querySelector(".icon-moon-mob"),searchInput:document.querySelector(".search-input"),queryBtn:document.querySelector(".query-btn-icon"),menuIcon:document.querySelector(".menu-toggle__icons"),menuCross:document.querySelector(".menu-toggle__icons-cross")},b=localStorage.getItem("theme-mobile");b&&document.body.classList.add(b+"-theme-site");"true"===localStorage.getItem("theme-checkbox-state-mobile")&&(L.checkboxMobile.checked=!0,document.body.classList.add("dark-theme-site"),L.lightLabel.classList.add("light-theme-site"),L.darkLabel.classList.add("dark-theme-site"),L.iconSun.classList.add("dark-theme-site"),L.iconMoon.classList.add("dark-theme-site"),L.searchInput.classList.add("dark-theme-site"),L.queryBtn.classList.add("dark-theme-site"),L.mobileMenu.classList.add("dark-theme-site"),L.menuIcon.classList.add("dark-theme-site"),L.menuCross.classList.add("dark-theme-site")),L.checkboxMobile.addEventListener("change",(function(){document.body.classList.toggle("dark-theme-site"),L.lightLabel.classList.toggle("light-theme-site"),L.darkLabel.classList.toggle("dark-theme-site"),L.searchInput.classList.toggle("dark-theme-site"),L.iconSun.classList.toggle("dark-theme-site"),L.iconMoon.classList.toggle("dark-theme-site"),L.queryBtn.classList.toggle("dark-theme-site"),L.mobileMenu.classList.toggle("dark-theme-site"),L.menuIcon.classList.toggle("dark-theme-site"),L.menuCross.classList.toggle("dark-theme-site"),function(){const e=document.body.classList.contains("dark-theme-site")?"dark":"light";localStorage.setItem("theme-mobile",e);const t=L.checkboxMobile.checked;localStorage.setItem("theme-checkbox-state-mobile",t)}()}));
//# sourceMappingURL=read.da134b54.js.map
