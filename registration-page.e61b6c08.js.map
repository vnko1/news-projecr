{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCASA,MAAMC,GAAO,EAAAF,EAAAG,SAAQC,EAAAC,KACLC,SAASC,cAAc,aAE/BC,iBAAiB,UAEzB,SAAwBC,GACtBA,EAAEC,iBACFC,EAAAC,QAAQC,KAAKP,SAASQ,MACtB,MAAMC,KAAEA,EAAIC,MAAEA,EAAKC,SAAEA,GAAaR,EAAES,OAAOC,UAI7CC,eAA4BL,EAAMC,EAAOC,GACvC,UACQ,EAAAjB,EAAAqB,gCAA+BnB,EAAMc,EAAOC,GAClD,MAAMK,EAAS,CAAEC,YAAaR,SACxB,EAAAf,EAAAwB,eAActB,EAAKuB,YAAaH,GACtCX,EAAAC,QAAQc,OAERC,OAAOC,SAASC,KAAO,c,CACvB,MAAOC,GACP,MAAMC,EAAeD,EAAME,QAC3BrB,EAAAC,QAAQc,OACRO,EAAAC,OAAOC,QAAQJ,E,EAdjBK,CAAarB,EAAKsB,MAAOrB,EAAMqB,MAAOpB,EAASoB,M","sources":["src/scripts/firebase/auth.js"],"sourcesContent":["import {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n} from 'firebase/auth';\nimport { app } from './firebaseApi';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { spinner } from '../common/libraries';\n\nconst auth = getAuth(app);\nconst regForm = document.querySelector('.reg-form');\n\nregForm.addEventListener('submit', onHandleSubmit);\n\nfunction onHandleSubmit(e) {\n  e.preventDefault();\n  spinner.spin(document.body);\n  const { name, email, password } = e.target.elements;\n  creatAccount(name.value, email.value, password.value);\n}\n\nasync function creatAccount(name, email, password) {\n  try {\n    await createUserWithEmailAndPassword(auth, email, password);\n    const params = { displayName: name };\n    await updateProfile(auth.currentUser, params);\n    spinner.stop();\n\n    window.location.href = './index.html';\n  } catch (error) {\n    const errorMessage = error.message;\n    spinner.stop();\n    Report.failure(errorMessage);\n\n    // ..\n  }\n\n  // .then(userCredential => {\n  //   const userData = userCredential.user;\n  //   regForm.reset();\n  // })\n}\n"],"names":["$eyjy7","parcelRequire","$c17315ff9c93d588$var$auth","getAuth","$krqL4","app","document","querySelector","addEventListener","e","preventDefault","$7B1mV","spinner","spin","body","name","email","password","target","elements","async","createUserWithEmailAndPassword","params","displayName","updateProfile","currentUser","stop","window","location","href","error","errorMessage","message","$i37YJ","Report","failure","$c17315ff9c93d588$var$creatAccount","value"],"version":3,"file":"registration-page.e61b6c08.js.map"}