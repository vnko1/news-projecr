{"mappings":"khBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,sBAiGvC,SAASC,EAAqBC,GAC5BC,aAAaC,QAAQF,EAAmBG,KAAKC,UAAU,I,CAhGd,OAAvCH,aAAaI,QAAQ,eACvBN,EAAqB,cAGmB,OAAtCE,aAAaI,QAAQ,cACvBN,EAAqB,aAGvBH,EAAQU,iBAAiB,SAEzB,SAAiBC,GAEf,GAA6B,WAAzBA,EAAMC,OAAOC,QAAsB,CACrCF,EAAMC,OAAOE,WAAWC,SAAS,GAAGC,UAAUC,OAC5C,wBAGsD,oBAApDN,EAAMC,OAAOE,WAAWC,SAAS,GAAGG,YACtCP,EAAMC,OAAOE,WAAWC,SAAS,GAAGG,YAAc,uBACU,yBAApDP,EAAMC,OAAOE,WAAWC,SAAS,GAAGG,cAC5CP,EAAMC,OAAOE,WAAWC,SAAS,GAAGG,YAAc,mBAGpD,IAAMC,EAAgBR,EAAMC,OAAOE,WAAWA,WAAWA,WAEnDM,EAAS,CACbC,GAAIF,EAAcG,WAAW,GAAGC,UAChCC,IAAKL,EAAcJ,SAAS,GAAGA,SAAS,GAAGU,IAC3CC,IAAKP,EAAcJ,SAAS,GAAGA,SAAS,GAAGW,IAC3CC,MAAOR,EAAcJ,SAAS,GAAGG,YACjCU,MAAOT,EAAcJ,SAAS,GAAGG,YACjCW,YAAaV,EAAcJ,SAAS,GAAGA,SAAS,GAAGG,YACnDY,KAAMX,EAAcJ,SAAS,GAAGA,SAAS,GAAGgB,KAC5CC,SAAUb,EAAcJ,SAAS,GAAGA,SAAS,GAAGG,aAG5Ce,GAAiB,EAAAnC,EAAAoC,gBAAe,eA+C1C,SAAkCC,EAAUC,EAAMhB,GAChD,GAAKe,EAGE,CACL,IAAME,EAAYD,EAAKE,WAAU,SAAAC,G,OAAUA,EAAOlB,KAAOD,EAAOC,E,IAEhEe,EAAKI,OAAOH,EAAW,GACvBhC,aAAaC,QAAQ,aAAcC,KAAKC,UAAU4B,G,MANlDA,EAAKK,KAAKrB,GACVf,aAAaC,QAAQ,aAAcC,KAAKC,UAAU4B,G,CA/ClDM,CAFiBT,EAAeU,MAAK,SAAAJ,G,OAAUA,EAAOlB,KAAOD,EAAOC,E,IAEjCY,EAAgBb,E,CAKrD,GAAiC,cAA7BT,EAAMC,OAAOM,YAA6B,CAC5CP,EAAMC,OAAOI,UAAU4B,IAAI,8BAE3B,IAAMC,EAAgBlC,EAAMC,OAAOE,WAAWA,WAExCgC,EAAS,CACbC,MAkDEA,EAAO,IAAIC,KAEVD,EAAKE,WAnDR5B,GAAIwB,EAAcvB,WAAW,GAAGC,UAChCC,IAAKqB,EAAc9B,SAAS,GAAGA,SAAS,GAAGU,IAC3CC,IAAKmB,EAAc9B,SAAS,GAAGA,SAAS,GAAGW,IAC3CC,MAAOkB,EAAc9B,SAAS,GAAGG,YACjCU,MAAOiB,EAAc9B,SAAS,GAAGG,YACjCW,YAAagB,EAAc9B,SAAS,GAAGA,SAAS,GAAGG,YACnDY,KAAMe,EAAc9B,SAAS,GAAGA,SAAS,GAAGgB,KAC5CC,SAAUa,EAAc9B,SAAS,GAAGA,SAAS,GAAGG,aAG5CgC,GAAe,EAAApD,EAAAoC,gBAAe,cASxC,SAA4BC,EAAUC,EAAMhB,GAC1C,GAAKe,EAGE,CACL,IAAME,EAAYD,EAAKE,WAAU,SAAAC,G,OAAUA,EAAOlB,KAAOD,EAAOC,E,IAEhEe,EAAKI,OAAOH,EAAW,GACvBD,EAAKK,KAAKrB,GACVf,aAAaC,QAAQ,YAAaC,KAAKC,UAAU4B,G,MAPjDA,EAAKK,KAAKrB,GACVf,aAAaC,QAAQ,YAAaC,KAAKC,UAAU4B,G,CATjDe,CAFiBD,EAAaP,MAAK,SAAAJ,G,OAAUA,EAAOlB,KAAOyB,EAAOzB,E,IAErC6B,EAAcJ,E,CAmC/C,IACQC,C","sources":["src/scripts/newsCardFromStorage.js"],"sourcesContent":["import { getStorageList } from './commonFunctions';\n\nconst gallery = document.querySelector('.gallery-container');\n\nif (localStorage.getItem('favourites') === null) {\n  addEmptyArrtoStorage('favourites');\n}\n\nif (localStorage.getItem('read more') === null) {\n  addEmptyArrtoStorage('read more');\n}\n\ngallery.addEventListener('click', onClick); // повесить слушателя на галерею\n\nfunction onClick(event) {\n  //--------------------Favourites--------------------------------\n  if (event.target.tagName === 'BUTTON') {\n    event.target.parentNode.children[0].classList.toggle(\n      'js-favourite-storage'\n    );\n\n    if (event.target.parentNode.children[0].textContent === 'Add to favorite') {\n      event.target.parentNode.children[0].textContent = 'Remove from favorite';\n    } else if(event.target.parentNode.children[0].textContent === 'Remove from favorite'){\n      event.target.parentNode.children[0].textContent = 'Add to favorite'\n    }\n\n    const arrayChildren = event.target.parentNode.parentNode.parentNode;\n\n    const newObj = {\n      id: arrayChildren.attributes[1].nodeValue,\n      img: arrayChildren.children[0].children[1].src,\n      alt: arrayChildren.children[0].children[1].alt,\n      title: arrayChildren.children[1].textContent,\n      descr: arrayChildren.children[2].textContent,\n      dateArticle: arrayChildren.children[3].children[0].textContent,\n      link: arrayChildren.children[3].children[1].href,\n      category: arrayChildren.children[0].children[0].textContent,\n    };\n\n    const favouriteLinks = getStorageList('favourites');\n    const myResult = favouriteLinks.some(object => object.id === newObj.id);\n\n    refreshFavouritesStorage(myResult, favouriteLinks, newObj);\n  }\n\n  //--------------------Read more--------------------------------\n\n  if (event.target.textContent === 'Read more') {\n    event.target.classList.add('js-read-more-storage-pages');\n\n    const arrayChildren = event.target.parentNode.parentNode;\n\n    const newObj = {\n      date: getDateForCreateObjToStorage(),\n      id: arrayChildren.attributes[1].nodeValue,\n      img: arrayChildren.children[0].children[1].src,\n      alt: arrayChildren.children[0].children[1].alt,\n      title: arrayChildren.children[1].textContent,\n      descr: arrayChildren.children[2].textContent,\n      dateArticle: arrayChildren.children[3].children[0].textContent,\n      link: arrayChildren.children[3].children[1].href,\n      category: arrayChildren.children[0].children[0].textContent,\n    };\n\n    const readMoreList = getStorageList('read more');\n    const myResult = readMoreList.some(object => object.id === newObj.id);\n\n    refreshLinkStorage(myResult, readMoreList, newObj);\n  }\n}\n\n//================================================\n\nfunction refreshLinkStorage(myResult, list, newObj) {\n  if (!myResult) {\n    list.push(newObj);\n    localStorage.setItem('read more', JSON.stringify(list));\n  } else {\n    const linkIndex = list.findIndex(object => object.id === newObj.id);\n\n    list.splice(linkIndex, 1);\n    list.push(newObj);\n    localStorage.setItem('read more', JSON.stringify(list));\n  }\n}\n\nfunction refreshFavouritesStorage(myResult, list, newObj) {\n  if (!myResult) {\n    list.push(newObj);\n    localStorage.setItem('favourites', JSON.stringify(list));\n  } else {\n    const linkIndex = list.findIndex(object => object.id === newObj.id);\n\n    list.splice(linkIndex, 1);\n    localStorage.setItem('favourites', JSON.stringify(list));\n  }\n}\n\nfunction addEmptyArrtoStorage(valueOfKeyStorage) {\n  localStorage.setItem(valueOfKeyStorage, JSON.stringify([]));\n}\n\nfunction getDateForCreateObjToStorage() {\n  const date = new Date();\n\n  return date.getTime();\n}\n"],"names":["$79A4R","parcelRequire","$34d8f43e396b77bd$var$gallery","document","querySelector","$34d8f43e396b77bd$var$addEmptyArrtoStorage","valueOfKeyStorage","localStorage","setItem","JSON","stringify","getItem","addEventListener","event","target","tagName","parentNode","children","classList","toggle","textContent","arrayChildren","newObj","id","attributes","nodeValue","img","src","alt","title","descr","dateArticle","link","href","category","favouriteLinks","getStorageList","myResult","list","linkIndex","findIndex","object","splice","push","$34d8f43e396b77bd$var$refreshFavouritesStorage","some","add","arrayChildren1","newObj1","date","Date","getTime","readMoreList","$34d8f43e396b77bd$var$refreshLinkStorage"],"version":3,"file":"favorite.6cf09d8f.js.map"}