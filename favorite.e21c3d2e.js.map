{"mappings":"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","sources":["src/favorite.js","src/scripts/favorite/favoriteBlock.js","src/scripts/favorite/searchNewsfromFavoriteStorage.js","src/scripts/favorite/themeFavorite.js","src/scripts/favorite/themeFavoriteMobile.js"],"sourcesContent":["import './scripts/common/current';\nimport './scripts/common/mobileMenu';\nimport './scripts/common/authMenu';\nimport './scripts/firebase/authState';\nimport './scripts/firebase/logIn';\nimport './scripts/firebase/logOut';\nimport './scripts/favorite/favoriteBlock';\nimport './scripts/common/newsCardFromStorage';\nimport './scripts/favorite/themeFavorite';\nimport './scripts/favorite/themeFavoriteMobile';\nimport './scripts/favorite/searchNewsfromFavoriteStorage';\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { spinner } from '../common/libraries';\nimport { app } from '../firebase/firebaseApi';\nimport { users } from '../common/fetchUser';\nimport {\n  addClassesForCoincidencesMarkupAndStoragePages,\n  showModal,\n  hideModal,\n  createDataList,\n  onFormMessage,\n} from '../common/commonFunctions';\nimport { onFormSubmit } from './searchNewsfromFavoriteStorage';\n\nconst auth = getAuth(app);\nconst gallery = document.querySelector('.gallery-container');\nconst formEl = document.getElementById('search-form');\n\ngallery.addEventListener('click', onClickRemoveBtn);\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(\n      user.displayName,\n      user.email,\n      user.uid,\n      user.accessToken\n    );\n    onLoadFavoriteNews();\n    formEl.addEventListener('submit', onFormSubmit);\n  } else {\n    const mess = 'Log in to your account to view your selected news!';\n    showModal(mess);\n    formEl.addEventListener('submit', onFormMessage);\n  }\n}\n\nasync function onLoadFavoriteNews() {\n  spinner.spin(document.body);\n  try {\n    const favourite = await users.getAllData('favourites');\n\n    if (!favourite) {\n      spinner.stop();\n      const mess = \"Sorry! You haven't added anything to your favorites yet\";\n      showModal(mess);\n      return;\n    } else {\n      const dataList = createDataList(favourite);\n      renderFavouriteCardFromStorage(dataList);\n      hideModal();\n      addClassesForCoincidencesMarkupAndStoragePages();\n    }\n  } catch (error) {\n    console.log(error);\n    spinner.stop();\n  }\n  spinner.stop();\n}\n\nfunction renderFavouriteCardFromStorage(dataList) {\n  const markUp = dataList.reduce((acc, el) => {\n    el.title;\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n  gallery.insertAdjacentHTML('beforeend', markUp);\n}\n\nfunction onClickRemoveBtn(e) {\n  if (e.target.tagName === 'BUTTON') {\n    if (\n      !e.target.parentNode.parentNode.parentNode.classList.contains(\n        'found-news-card'\n      )\n    ) {\n      e.target.parentNode.parentNode.parentNode.classList.add('scale');\n      setTimeout(() => {\n        e.target.parentNode.parentNode.parentNode.remove();\n        if (!gallery.children.length) {\n          showModal(\"Sorry! You haven't added anything to your favorites yet\");\n        }\n      }, 600);\n    }\n  }\n}\n","import { spinner } from '../common/libraries';\nimport {\n  showModal,\n  hideModal,\n  addClassesForCoincidencesMarkupAndStoragePages,\n  createDataList,\n} from '../common/commonFunctions';\nimport { users } from '../common/fetchUser';\n\nconst galleryEl = document.querySelector('.gallery-container');\nconst formEl = document.getElementById('search-form');\n\nexport async function onFormSubmit(e) {\n  e.preventDefault();\n  hideModal();\n  spinner.spin(document.body);\n  const searchValue = e.target.elements.searchQuery.value;\n\n  try {\n    const data = await users.getAllData('favourites');\n    if (!data) {\n      showModal('Nothing was found matching your search!');\n      spinner.stop();\n      return;\n    }\n    const dataList = createDataList(data);\n\n    const newArrObj = dataList.filter(\n      obj =>\n        obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n        obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n        obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n    );\n\n    if (newArrObj.length > 0) {\n      render(newArrObj);\n      addClassesForCoincidencesMarkupAndStoragePages();\n    } else {\n      showModal('Nothing was found matching your search!');\n    }\n  } catch (error) {\n    console.log(error);\n    spinner.stop();\n  }\n\n  formEl.reset();\n  spinner.stop();\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card found-news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title}</h2>\n      <p class=\"news-card__info-text\">${el.descr}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  galleryEl.innerHTML = markUp;\n}\n","const refs = {\n  checkbox: document.getElementById('theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun'),\n  iconMoon: document.querySelector('.icon-moon'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n};\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxState = localStorage.getItem('theme-checkbox-state');\n\nif (savedCheckboxState === 'true') {\n  refs.checkbox.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n}\n\nrefs.checkbox.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  changeThemeMobile();\n});\n\nfunction changeThemeMobile() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme', theme);\n\n  // збереження стану чекбокса\n  const checkboxState = refs.checkbox.checked;\n  localStorage.setItem('theme-checkbox-state', checkboxState);\n}\n","const refs = {\n  checkboxMobile: document.getElementById('mobile-theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun-mob'),\n  iconMoon: document.querySelector('.icon-moon-mob'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n  menuIcon: document.querySelector('.menu-toggle__icons'),\n  menuCross: document.querySelector('.menu-toggle__icons-cross'),\n};\n\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme-mobile');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxMobileState = localStorage.getItem(\n  'theme-checkbox-state-mobile'\n);\n\nif (savedCheckboxMobileState === 'true') {\n  refs.checkboxMobile.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n  refs.menuIcon.classList.add('dark-theme-site');\n  refs.menuCross.classList.add('dark-theme-site');\n}\n\nrefs.checkboxMobile.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  refs.menuIcon.classList.toggle('dark-theme-site');\n  refs.menuCross.classList.toggle('dark-theme-site');\n  changeTheme();\n});\n\nfunction changeTheme() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme-mobile', theme);\n\n  // збереження стану чекбокса\n  const checkboxMobileState = refs.checkboxMobile.checked;\n  localStorage.setItem('theme-checkbox-state-mobile', checkboxMobileState);\n}\n"],"names":["parcelRequire","$eyjy7","$7B1mV","$5f75c2458661c240$var$galleryEl","document","querySelector","$5f75c2458661c240$var$formEl","getElementById","async","$5f75c2458661c240$export$8027ecf5a33730c9","e","preventDefault","$irLYq","hideModal","spinner","spin","body","searchValue","target","elements","searchQuery","value","data","$jKfAL","users","getAllData","showModal","stop","newArrObj","createDataList","filter","obj","descr","toLowerCase","includes","trim","category","title","length","arr","markUp","reduce","acc","el","id","img","alt","dateArticle","link","innerHTML","$5f75c2458661c240$var$render","addClassesForCoincidencesMarkupAndStoragePages","error","console","log","reset","$8c0918e077154235$var$auth","getAuth","$krqL4","app","$8c0918e077154235$var$gallery","$8c0918e077154235$var$formEl","addEventListener","tagName","parentNode","classList","contains","add","setTimeout","remove","children","onAuthStateChanged","user","updateProfile","displayName","email","uid","accessToken","favourite","mess","dataList","insertAdjacentHTML","$8c0918e077154235$var$renderFavouriteCardFromStorage","$8c0918e077154235$var$onLoadFavoriteNews","onFormMessage","$7801296c56e2f518$var$refs","checkbox","mobileMenu","lightLabel","darkLabel","iconSun","iconMoon","searchInput","queryBtn","$7801296c56e2f518$var$savedTheme","localStorage","getItem","checked","toggle","theme","setItem","checkboxState","$7801296c56e2f518$var$changeThemeMobile","$c392678f1e6e7a58$var$refs","checkboxMobile","menuIcon","menuCross","$c392678f1e6e7a58$var$savedTheme","checkboxMobileState","$c392678f1e6e7a58$var$changeTheme"],"version":3,"file":"favorite.e21c3d2e.js.map"}