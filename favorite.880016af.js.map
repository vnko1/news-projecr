{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,GAAO,EAAAF,EAAAG,SAAQC,EAAAC,KACfC,EAASC,SAASC,cAAc,qBAChCC,EAAYF,SAASC,cAAc,qBACnCE,EAAYH,SAASC,cAAc,gBACnCG,EAAeJ,SAASC,cAAc,oBACtCI,EAAaL,SAASC,cAAc,gBACpCK,EAAgBN,SAASC,cAAc,qBAE7C,EAAAR,EAAAc,oBAAmBZ,GAEnB,SAAsBa,GAChBA,GACFC,EAAAC,MAAMC,cAAcH,EAAKI,YAAaJ,EAAKK,MAAOL,EAAKM,KAQ3DC,iBACEhB,EAAOiB,YAAcP,EAAAC,MAAMO,UAC3Bf,EAAUc,YAAcP,EAAAC,MAAMO,UAC9Bd,EAAUe,SAAW,OACrBd,EAAac,SAAW,OACxBb,EAAWc,gBAAgB,YAC3Bb,EAAca,gBAAgB,W,CAZ5BC,KAgBFrB,EAAOiB,YAAc,OACrBd,EAAUc,YAAc,OACxBX,EAAWa,SAAW,OACtBZ,EAAcY,SAAW,O,yCCrC3B,IAAAzB,EAAAC,EAAA,S,uCAKA,MAAM2B,GAAO,EAAA5B,EAAAG,SAAQC,EAAAC,KACfwB,EAAWtB,SAASC,cAAc,cAClCsB,EAASvB,SAASC,cAAc,qBAChCuB,EAAYxB,SAASC,cAAc,qBACnCwB,EAAYzB,SAASC,cAAc,gBACnCyB,EAAe1B,SAASC,cAAc,oBACtC0B,EAAa3B,SAASC,cAAc,gBACpC2B,EAAgB5B,SAASC,cAAc,oBACvC4B,EAAW7B,SAASC,cAAc,cAExCqB,EAASQ,iBAAiB,UAE1Bf,eAA4BgB,GAC1BA,EAAEC,iBACF,MAAMnB,MAAEA,EAAKoB,SAAEA,GAAaF,EAAEG,OAAOC,SACrC,IACE,MAKM3B,SALuB,EAAAf,EAAA2C,4BAC3Bf,EACAR,EAAMwB,MACNJ,EAASI,QAEiB7B,KAE5BC,EAAAC,MAAMC,cAAcH,EAAKI,YAAaJ,EAAKK,MAAOL,EAAKM,KAmBzDS,EAAOP,YAAcP,EAAAC,MAAMO,UAC3BO,EAAUR,YAAcP,EAAAC,MAAMO,UAC9BQ,EAAUP,SAAW,OACrBQ,EAAaR,SAAW,OACxBS,EAAWR,gBAAgB,YAC3BS,EAAcT,gBAAgB,YAC9BU,EAASS,UAAUC,IAAI,aACvBvC,SAASwC,KAAKF,UAAUG,OAAO,gB,CAxB7B,MACAC,EAAAC,OAAOC,QAAQ,6B,0CC/BnB,IAAAnD,EAAAC,EAAA,S,0BAKA,MAAMmD,GAAO,EAAApD,EAAAG,SAAQC,EAAAC,KACfgD,EAAa9C,SAASC,cAAc,gBACpC8C,EAAgB/C,SAASC,cAAc,oBAM7Cc,eAAeiC,IACb,UACQ,EAAAvD,EAAAwD,SAAQJ,GACdK,SAASC,Q,CACT,MAAOC,GACPV,EAAAC,OAAOC,QAAQQ,E,EATnBN,EAAWhB,iBAAiB,QAASkB,GAErCD,EAAcjB,iBAAiB,QAASkB,E","sources":["src/scripts/firebase/authState.js","src/scripts/firebase/logIn.js","src/scripts/firebase/logOut.js"],"sourcesContent":["import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebaseApi';\nimport { users } from '../common/fetchUser';\n\nconst auth = getAuth(app);\nconst userEl = document.querySelector('.user-name-header');\nconst userMobEl = document.querySelector('.user-name-mobile');\nconst signInBtn = document.querySelector('.sign-in-btn');\nconst signInBtnMob = document.querySelector('.sign-in-btn-mob');\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(user.displayName, user.email, user.uid);\n\n    onIsLogIn();\n  } else {\n    onIsLogOut();\n  }\n}\n\nasync function onIsLogIn() {\n  userEl.textContent = users.getName();\n  userMobEl.textContent = users.getName();\n  signInBtn.disabled = 'true';\n  signInBtnMob.disabled = 'true';\n  signOutBtn.removeAttribute('disabled');\n  signOutBtnMob.removeAttribute('disabled');\n}\n\nfunction onIsLogOut() {\n  userEl.textContent = 'user';\n  userMobEl.textContent = 'user';\n  signOutBtn.disabled = 'true';\n  signOutBtnMob.disabled = 'true';\n}\n","import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { users } from '../common/fetchUser';\nimport { app } from './firebaseApi';\n\nconst auth = getAuth(app);\nconst authForm = document.querySelector('.auth-form');\nconst userEl = document.querySelector('.user-name-header');\nconst userMobEl = document.querySelector('.user-name-mobile');\nconst signInBtn = document.querySelector('.sign-in-btn');\nconst signInBtnMob = document.querySelector('.sign-in-btn-mob');\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\nconst authMenu = document.querySelector('.auth-menu');\n\nauthForm.addEventListener('submit', onAuthSubmit);\n\nasync function onAuthSubmit(e) {\n  e.preventDefault();\n  const { email, password } = e.target.elements;\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email.value,\n      password.value\n    );\n    const user = userCredential.user;\n\n    users.updateProfile(user.displayName, user.email, user.uid);\n    changeVisual();\n  } catch {\n    Report.failure('This user is not registred');\n  }\n}\n\n// signInWithEmailAndPassword(auth, email, password)\n//   .then(userCredential => {\n//     // Signed in\n//     const user = userCredential.user;\n//     // ...\n//   })\n//   .catch(error => {\n//     const errorCode = error.code;\n//     const errorMessage = error.message;\n//   });\n\nfunction changeVisual() {\n  userEl.textContent = users.getName();\n  userMobEl.textContent = users.getName();\n  signInBtn.disabled = 'true';\n  signInBtnMob.disabled = 'true';\n  signOutBtn.removeAttribute('disabled');\n  signOutBtnMob.removeAttribute('disabled');\n  authMenu.classList.add('is-hidden');\n  document.body.classList.remove('modal-is-open');\n}\n","import { getAuth, signOut } from 'firebase/auth';\nimport { Report } from 'notiflix/build/notiflix-report-aio';\nimport { app } from './firebaseApi';\n// import { users } from '../common/fetchUser';\n\nconst auth = getAuth(app);\nconst signOutBtn = document.querySelector('.log-out-btn');\nconst signOutBtnMob = document.querySelector('.log-out-btn-mob');\n\nsignOutBtn.addEventListener('click', onSignOutBtnCLick);\n\nsignOutBtnMob.addEventListener('click', onSignOutBtnCLick);\n\nasync function onSignOutBtnCLick() {\n  try {\n    await signOut(auth);\n    location.reload();\n  } catch (error) {\n    Report.failure(error);\n  }\n}\n"],"names":["$eyjy7","parcelRequire","$270b022e3df7b078$var$auth","getAuth","$krqL4","app","$270b022e3df7b078$var$userEl","document","querySelector","$270b022e3df7b078$var$userMobEl","$270b022e3df7b078$var$signInBtn","$270b022e3df7b078$var$signInBtnMob","$270b022e3df7b078$var$signOutBtn","$270b022e3df7b078$var$signOutBtnMob","onAuthStateChanged","user","$jKfAL","users","updateProfile","displayName","email","uid","async","textContent","getName","disabled","removeAttribute","$270b022e3df7b078$var$onIsLogIn","$670bc688d6ce6e10$var$auth","$670bc688d6ce6e10$var$authForm","$670bc688d6ce6e10$var$userEl","$670bc688d6ce6e10$var$userMobEl","$670bc688d6ce6e10$var$signInBtn","$670bc688d6ce6e10$var$signInBtnMob","$670bc688d6ce6e10$var$signOutBtn","$670bc688d6ce6e10$var$signOutBtnMob","$670bc688d6ce6e10$var$authMenu","addEventListener","e","preventDefault","password","target","elements","signInWithEmailAndPassword","value","classList","add","body","remove","$i37YJ","Report","failure","$da0f8c109f17cb9e$var$auth","$da0f8c109f17cb9e$var$signOutBtn","$da0f8c109f17cb9e$var$signOutBtnMob","$da0f8c109f17cb9e$var$onSignOutBtnCLick","signOut","location","reload","error"],"version":3,"file":"favorite.880016af.js.map"}