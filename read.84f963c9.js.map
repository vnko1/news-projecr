{"mappings":"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","sources":["src/readPage.js","src/scripts/read/read.js","src/scripts/read/themeRead.js","src/scripts/read/themeReadMobile.js","src/scripts/read/searchNewsFromReadStorage.js"],"sourcesContent":["import './scripts/common/current';\nimport './scripts/common/mobileMenu';\nimport './scripts/common/authMenu';\nimport './scripts/firebase/authState';\nimport './scripts/firebase/logIn';\nimport './scripts/firebase/logOut';\nimport './scripts/read/read';\nimport './scripts/common/newsCardFromStorage';\nimport './scripts/read/themeRead';\nimport './scripts/read/themeReadMobile';\nimport './scripts/read/searchNewsFromReadStorage';\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nimport { spinner } from '../common/libraries';\nimport { app } from '../firebase/firebaseApi';\nimport { users } from '../common/fetchUser';\nimport {\n  addClassesForCoincidencesMarkupAndStoragePages,\n  showModal,\n  hideModal,\n  createDataList,\n} from '../common/commonFunctions';\n\nconst auth = getAuth(app);\nconst cardList = document.getElementById('ul-gallery');\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(\n      user.displayName,\n      user.email,\n      user.uid,\n      user.accessToken\n    );\n    onLoadReadNews();\n  } else {\n    const mess = 'Log in to your account to view your read news!';\n    showModal(mess);\n  }\n}\n\nasync function onLoadReadNews() {\n  spinner.spin(document.body);\n  try {\n    const readMore = await users.getAllData('readMore');\n\n    if (!readMore) {\n      spinner.stop();\n      const mess = \"Sorry! You haven't added anything to your read page yet\";\n      showModal(mess);\n      return;\n    } else {\n      const dataList = createDataList(readMore);\n      renderMarkup(dataList);\n      hideModal();\n      addClassesForCoincidencesMarkupAndStoragePages();\n    }\n  } catch (err) {\n    console.error(err);\n    spinner.stop();\n  }\n\n  spinner.stop();\n}\n\nfunction renderMarkup(array) {\n  let cardMarkup = '';\n\n  // -------сортируем даты по убыванию и выделяем уникальные даты---------\n\n  const initialDates = array.map(obj => obj.date);\n  const descendingDates = [...initialDates]\n    .sort((a, b) => b - a)\n    .map(dateUnix => {\n      const dateStamp = new Date(dateUnix);\n\n      return `${String(dateStamp.getDate()).padStart(2, 0)}/${String(\n        dateStamp.getMonth() + 1\n      ).padStart(2, 0)}/${String(dateStamp.getFullYear())}`;\n    });\n  const uniqueDates = descendingDates.filter(\n    (course, index, array) => array.indexOf(course) === index\n  );\n\n  //------- создаем массив объектов с датой в формате day/month/year---------\n\n  const arrayConverDates = array.reduce((acc, obj) => {\n    const newObj = {};\n    const dateStamp = new Date(obj.date);\n\n    newObj.date = `${String(dateStamp.getDate()).padStart(2, 0)}/${String(\n      dateStamp.getMonth() + 1\n    ).padStart(2, 0)}/${String(dateStamp.getFullYear())}`;\n    newObj.img = obj.img;\n    newObj.descr = obj.descr;\n    newObj.title = obj.title;\n    newObj.link = obj.link;\n    newObj.alt = obj.alt;\n    newObj.category = obj.category;\n    newObj.id = obj.id;\n    newObj.dateArticle = obj.dateArticle;\n\n    acc.push(newObj);\n    return acc;\n  }, []);\n\n  //------- рендерим разметку по отсортированным уникальным датам---------\n\n  for (let date of uniqueDates) {\n    // --------------рендер заголовка с датой прочтения новостей-----------------\n    const cardMarkupLi = `<li>\n            <div class=\"date-wrap\">\n                <p class=\"cards-date\">${date}\n                   <svg class=\"arrow-read\" width=\"15\" height=\"9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                     <path d=\"M1.762 9 0 7.287 7.5 0 15 7.287 13.238 9 7.5 3.437 1.763 9Z\" fill=\"\"/>\n                   </svg>\n                   <svg class=\"arrow-read visually-hidden\" width=\"15\" height=\"9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                     <path d=\"M1.762 0 0 1.713 7.5 9 15 1.713 13.238 0 7.5 5.563 1.763 0Z\" fill=\"\"/>\n                   </svg>\n                </p>\n                <div class=\"clicker\"></div>\n            </div>\n            <div class=\"news-item\">\n                <div class=\"news-wrap\">`;\n\n    // ---------------рендер карточек новостей согласно прочитанной дате в заголовке---------\n\n    const cardMarkupDiv = arrayConverDates\n      .filter(obj => obj.date === date)\n      .map(obj => {\n        return `<div class=\"news-card\" news-id=\"${obj.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${obj.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${obj.img}\"\n          alt=\"${obj.alt ? obj.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          obj.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${obj.title.limit(50, {\n        ending: '',\n      })}</h2>\n      <p class=\"news-card__info-text\">${obj.descr.limit(120)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${obj.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${obj.link}\" id=\"${\n          obj.id\n        }\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n      </div>\n    </div>`;\n      });\n    cardMarkup += cardMarkupLi + cardMarkupDiv.join('') + '</div></div></li>';\n  }\n  cardList.insertAdjacentHTML('beforeend', cardMarkup);\n  // cardList.innerHTML = cardMarkup;\n\n  // --проставляю всем контейнерам с новостями высоту по занимаемому контенту-------------------------\n\n  document\n    .querySelectorAll('.news-item')\n    .forEach(el => (el.style.maxHeight = el.scrollHeight + 'px'));\n\n  // --делаю выпадающий список с новостями по датам - accordion-------------------\n  document.querySelectorAll('.cards-date').forEach(el =>\n    el.addEventListener('click', () => {\n      const svg = el.children;\n      for (let itemsvg of svg) itemsvg.classList.toggle('visually-hidden');\n\n      const newsItem = el.parentNode.nextElementSibling;\n      if (newsItem.style.maxHeight !== '0px') newsItem.style.maxHeight = '0px';\n      else newsItem.style.maxHeight = newsItem.scrollHeight + 'px';\n    })\n  );\n}\n","const refs = {\n  checkbox: document.getElementById('theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun'),\n  iconMoon: document.querySelector('.icon-moon'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n};\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxState = localStorage.getItem('theme-checkbox-state');\n\nif (savedCheckboxState === 'true') {\n  refs.checkbox.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n}\n\nrefs.checkbox.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n\n  changeThemeMobile();\n});\n\nfunction changeThemeMobile() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme', theme);\n\n  // збереження стану чекбокса\n  const checkboxState = refs.checkbox.checked;\n  localStorage.setItem('theme-checkbox-state', checkboxState);\n}\n","const refs = {\n  checkboxMobile: document.getElementById('mobile-theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun-mob'),\n  iconMoon: document.querySelector('.icon-moon-mob'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n  menuIcon: document.querySelector('.menu-toggle__icons'),\n  menuCross: document.querySelector('.menu-toggle__icons-cross'),\n};\n\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme-mobile');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxMobileState = localStorage.getItem(\n  'theme-checkbox-state-mobile'\n);\n\nif (savedCheckboxMobileState === 'true') {\n  refs.checkboxMobile.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n  refs.menuIcon.classList.add('dark-theme-site');\n  refs.menuCross.classList.add('dark-theme-site');\n}\n\nrefs.checkboxMobile.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  refs.menuIcon.classList.toggle('dark-theme-site');\n  refs.menuCross.classList.toggle('dark-theme-site');\n\n  changeTheme();\n});\n\nfunction changeTheme() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme-mobile', theme);\n\n  // збереження стану чекбокса\n  const checkboxMobileState = refs.checkboxMobile.checked;\n  localStorage.setItem('theme-checkbox-state-mobile', checkboxMobileState);\n}\n","import { spinner } from '../common/libraries';\nimport {\n  showModal,\n  hideModal,\n  addClassesForCoincidencesMarkupAndStoragePages,\n  createDataList,\n} from '../common/commonFunctions';\nimport { users } from '../common/fetchUser';\n\nconst formEl = document.getElementById('search-form');\nconst galleryEl = document.querySelector('.gallery-container');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  hideModal();\n  spinner.spin(document.body);\n  const searchValue = e.target.elements.searchQuery.value;\n\n  const data = await users.getAllData('readMore');\n  if (!data) {\n    showModal('Nothing was found matching your search!');\n    spinner.stop();\n    return;\n  }\n\n  const dataList = createDataList(data);\n  const newArrObj = dataList.filter(\n    obj =>\n      obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n  );\n\n  if (newArrObj.length > 0) {\n    render(newArrObj);\n    addClassesForCoincidencesMarkupAndStoragePages();\n  } else {\n    showModal();\n  }\n  formEl.reset();\n  spinner.stop();\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title.limit(50, {\n        ending: '',\n      })}</h2>\n      <p class=\"news-card__info-text\">${el.descr.limit(120)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  galleryEl.innerHTML = markUp;\n  galleryEl.classList.add('read-search');\n}\n"],"names":["parcelRequire","$bpxeT","$5df8708f43c40334$var$auth","$gQOBw","getAuth","$9IEE9","app","$5df8708f43c40334$var$cardList","document","getElementById","$5df8708f43c40334$var$_onLoadReadNews","$parcel$interopDefault","$2TvXO","mark","_callee","readMore","$l4tBk","spinner","spin","body","$dIGoD","users","getAllData","_ctx","sent","stop","$f6M8X","showModal","$5df8708f43c40334$var$renderMarkup","createDataList","hideModal","addClassesForCoincidencesMarkupAndStoragePages","console","error","t0","apply","this","arguments","array1","cardMarkup","initialDates","map","obj","date","uniqueDates","$8nrFW","sort","a","b","dateUnix","dateStamp","Date","concat","String","getDate","padStart","getMonth","getFullYear","filter","course","index","array","indexOf","arrayConverDates","reduce","acc","newObj","img","descr","title","link","alt","category","id","dateArticle","push","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","undefined","_step1","_step","value","cardMarkupLi","cardMarkupDiv","limit","ending","join","_iterator","Symbol","iterator","next","done","_loop","err1","return","insertAdjacentHTML","querySelectorAll","forEach","el","style","maxHeight","scrollHeight","addEventListener","svg","children","_iteratorNormalCompletion","_didIteratorError","_iteratorError","classList","toggle","err","newsItem","parentNode","nextElementSibling","onAuthStateChanged","user","updateProfile","displayName","email","uid","accessToken","$5df8708f43c40334$var$onLoadReadNews","$a25a852dd949f185$var$refs","checkbox","mobileMenu","querySelector","lightLabel","darkLabel","iconSun","iconMoon","searchInput","queryBtn","$a25a852dd949f185$var$savedTheme","localStorage","getItem","add","checked","theme","contains","setItem","checkboxState","$a25a852dd949f185$var$changeThemeMobile","$f213205192e9698f$var$refs","checkboxMobile","menuIcon","menuCross","$f213205192e9698f$var$savedTheme","checkboxMobileState","$f213205192e9698f$var$changeTheme","$c4bdb2dbdf90b9a1$var$formEl","$c4bdb2dbdf90b9a1$var$galleryEl","$c4bdb2dbdf90b9a1$var$_onFormSubmit","e","searchValue","data","dataList","newArrObj","preventDefault","target","elements","searchQuery","toLowerCase","includes","trim","length","$c4bdb2dbdf90b9a1$var$render","reset","arr","markUp","innerHTML"],"version":3,"file":"read.84f963c9.js.map"}