{"mappings":"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","sources":["src/readPage.js","src/scripts/read/read.js","src/scripts/read/themeRead.js","src/scripts/read/themeReadMobile.js","src/scripts/read/searchNewsFromReadStorage.js"],"sourcesContent":["import './scripts/common/current';\nimport './scripts/common/mobileMenu';\nimport './scripts/common/authMenu';\nimport './scripts/firebase/authState';\nimport './scripts/firebase/logIn';\nimport './scripts/firebase/logOut';\nimport './scripts/read/read';\nimport './scripts/common/newsCardFromStorage';\nimport './scripts/read/themeRead';\nimport './scripts/read/themeReadMobile';\nimport './scripts/read/searchNewsFromReadStorage';\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nimport { spinner } from '../common/libraries';\nimport { app } from '../firebase/firebaseApi';\nimport { users } from '../common/fetchUser';\nimport {\n  addClassesForCoincidencesMarkupAndStoragePages,\n  showModal,\n  hideModal,\n  createDataList,\n} from '../common/commonFunctions';\n\nconst auth = getAuth(app);\nconst cardList = document.getElementById('ul-gallery');\n\nonAuthStateChanged(auth, checkIsLogin);\n\nfunction checkIsLogin(user) {\n  if (user) {\n    users.updateProfile(\n      user.displayName,\n      user.email,\n      user.uid,\n      user.accessToken\n    );\n    onLoadReadNews();\n  } else {\n    const mess = 'Log in to your account to view your read news!';\n    showModal(mess);\n  }\n}\n\nasync function onLoadReadNews() {\n  spinner.spin(document.body);\n  try {\n    const readMore = await users.getAllData('readMore');\n\n    if (!readMore) {\n      spinner.stop();\n      const mess = \"Sorry! You haven't added anything to your read page yet\";\n      showModal(mess);\n      return;\n    } else {\n      const dataList = createDataList(readMore);\n      renderMarkup(dataList);\n      hideModal();\n      addClassesForCoincidencesMarkupAndStoragePages();\n    }\n  } catch (err) {\n    console.error(err);\n    spinner.stop();\n  }\n\n  spinner.stop();\n}\n\nfunction renderMarkup(array) {\n  let cardMarkup = '';\n\n  // -------сортируем даты по убыванию и выделяем уникальные даты---------\n\n  const initialDates = array.map(obj => obj.date);\n  const descendingDates = [...initialDates]\n    .sort((a, b) => b - a)\n    .map(dateUnix => {\n      const dateStamp = new Date(dateUnix);\n\n      return `${String(dateStamp.getDate()).padStart(2, 0)}/${String(\n        dateStamp.getMonth() + 1\n      ).padStart(2, 0)}/${String(dateStamp.getFullYear())}`;\n    });\n  const uniqueDates = descendingDates.filter(\n    (course, index, array) => array.indexOf(course) === index\n  );\n\n  //------- создаем массив объектов с датой в формате day/month/year---------\n\n  const arrayConverDates = array.reduce((acc, obj) => {\n    const newObj = {};\n    const dateStamp = new Date(obj.date);\n\n    newObj.date = `${String(dateStamp.getDate()).padStart(2, 0)}/${String(\n      dateStamp.getMonth() + 1\n    ).padStart(2, 0)}/${String(dateStamp.getFullYear())}`;\n    newObj.img = obj.img;\n    newObj.descr = obj.descr;\n    newObj.title = obj.title;\n    newObj.link = obj.link;\n    newObj.alt = obj.alt;\n    newObj.category = obj.category;\n    newObj.id = obj.id;\n    newObj.dateArticle = obj.dateArticle;\n\n    acc.push(newObj);\n    return acc;\n  }, []);\n\n  //------- рендерим разметку по отсортированным уникальным датам---------\n\n  for (let date of uniqueDates) {\n    // --------------рендер заголовка с датой прочтения новостей-----------------\n    const cardMarkupLi = `<li>\n            <div class=\"date-wrap\">\n                <p class=\"cards-date\">${date}\n                   <svg class=\"arrow-read\" width=\"15\" height=\"9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                     <path d=\"M1.762 9 0 7.287 7.5 0 15 7.287 13.238 9 7.5 3.437 1.763 9Z\" fill=\"\"/>\n                   </svg>\n                   <svg class=\"arrow-read visually-hidden\" width=\"15\" height=\"9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                     <path d=\"M1.762 0 0 1.713 7.5 9 15 1.713 13.238 0 7.5 5.563 1.763 0Z\" fill=\"\"/>\n                   </svg>\n                </p>\n                <div class=\"clicker\"></div>\n            </div>\n            <div class=\"news-item\">\n                <div class=\"news-wrap\">`;\n\n    // ---------------рендер карточек новостей согласно прочитанной дате в заголовке---------\n\n    const cardMarkupDiv = arrayConverDates\n      .filter(obj => obj.date === date)\n      .map(obj => {\n        return `<div class=\"news-card\" news-id=\"${obj.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${obj.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${obj.img}\"\n          alt=\"${obj.alt ? obj.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          obj.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${obj.title.limit(50, {\n        ending: '',\n      })}</h2>\n      <p class=\"news-card__info-text\">${obj.descr.limit(120)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${obj.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${obj.link}\" id=\"${\n          obj.id\n        }\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n      </div>\n    </div>`;\n      });\n    cardMarkup += cardMarkupLi + cardMarkupDiv.join('') + '</div></div></li>';\n  }\n  cardList.insertAdjacentHTML('beforeend', cardMarkup);\n  // cardList.innerHTML = cardMarkup;\n\n  // --проставляю всем контейнерам с новостями высоту по занимаемому контенту-------------------------\n\n  document\n    .querySelectorAll('.news-item')\n    .forEach(el => (el.style.maxHeight = el.scrollHeight + 'px'));\n\n  // --делаю выпадающий список с новостями по датам - accordion-------------------\n  document.querySelectorAll('.cards-date').forEach(el =>\n    el.addEventListener('click', () => {\n      const svg = el.children;\n      for (let itemsvg of svg) itemsvg.classList.toggle('visually-hidden');\n\n      const newsItem = el.parentNode.nextElementSibling;\n      if (newsItem.style.maxHeight !== '0px') newsItem.style.maxHeight = '0px';\n      else newsItem.style.maxHeight = newsItem.scrollHeight + 'px';\n    })\n  );\n}\n","const refs = {\n  checkbox: document.getElementById('theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun'),\n  iconMoon: document.querySelector('.icon-moon'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n};\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxState = localStorage.getItem('theme-checkbox-state');\n\nif (savedCheckboxState === 'true') {\n  refs.checkbox.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n}\n\nrefs.checkbox.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n\n  changeThemeMobile();\n});\n\nfunction changeThemeMobile() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme', theme);\n\n  // збереження стану чекбокса\n  const checkboxState = refs.checkbox.checked;\n  localStorage.setItem('theme-checkbox-state', checkboxState);\n}\n","const refs = {\n  checkboxMobile: document.getElementById('mobile-theme'),\n  mobileMenu: document.querySelector('.menu-container'),\n  lightLabel: document.querySelector('.light-label'),\n  darkLabel: document.querySelector('.dark-label'),\n  iconSun: document.querySelector('.icon-sun-mob'),\n  iconMoon: document.querySelector('.icon-moon-mob'),\n  searchInput: document.querySelector('.search-input'),\n  queryBtn: document.querySelector('.query-btn-icon'),\n  menuIcon: document.querySelector('.menu-toggle__icons'),\n  menuCross: document.querySelector('.menu-toggle__icons-cross'),\n};\n\n// перевірка локального сходице на наявність теми\nconst savedTheme = localStorage.getItem('theme-mobile');\n\nif (savedTheme) {\n  document.body.classList.add(savedTheme + '-theme-site');\n}\n// перевірка стану чекбокса\nconst savedCheckboxMobileState = localStorage.getItem(\n  'theme-checkbox-state-mobile'\n);\n\nif (savedCheckboxMobileState === 'true') {\n  refs.checkboxMobile.checked = true;\n  document.body.classList.add('dark-theme-site');\n  refs.lightLabel.classList.add('light-theme-site');\n  refs.darkLabel.classList.add('dark-theme-site');\n  refs.iconSun.classList.add('dark-theme-site');\n  refs.iconMoon.classList.add('dark-theme-site');\n  refs.searchInput.classList.add('dark-theme-site');\n  refs.queryBtn.classList.add('dark-theme-site');\n  refs.mobileMenu.classList.add('dark-theme-site');\n  refs.menuIcon.classList.add('dark-theme-site');\n  refs.menuCross.classList.add('dark-theme-site');\n}\n\nrefs.checkboxMobile.addEventListener('change', function () {\n  document.body.classList.toggle('dark-theme-site');\n  refs.lightLabel.classList.toggle('light-theme-site');\n  refs.darkLabel.classList.toggle('dark-theme-site');\n  refs.searchInput.classList.toggle('dark-theme-site');\n  refs.iconSun.classList.toggle('dark-theme-site');\n  refs.iconMoon.classList.toggle('dark-theme-site');\n  refs.queryBtn.classList.toggle('dark-theme-site');\n  refs.mobileMenu.classList.toggle('dark-theme-site');\n  refs.menuIcon.classList.toggle('dark-theme-site');\n  refs.menuCross.classList.toggle('dark-theme-site');\n\n  changeTheme();\n});\n\nfunction changeTheme() {\n  // перевірка класу на тегу body\n  const theme = document.body.classList.contains('dark-theme-site')\n    ? 'dark'\n    : 'light';\n  localStorage.setItem('theme-mobile', theme);\n\n  // збереження стану чекбокса\n  const checkboxMobileState = refs.checkboxMobile.checked;\n  localStorage.setItem('theme-checkbox-state-mobile', checkboxMobileState);\n}\n","import { spinner } from '../common/libraries';\nimport {\n  showModal,\n  hideModal,\n  addClassesForCoincidencesMarkupAndStoragePages,\n  createDataList,\n} from '../common/commonFunctions';\nimport { users } from '../common/fetchUser';\n\nconst formEl = document.getElementById('search-form');\nconst galleryEl = document.querySelector('.gallery-container');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  hideModal();\n  spinner.spin(document.body);\n  const searchValue = e.target.elements.searchQuery.value;\n\n  const data = await users.getAllData('readMore');\n  if (!data) {\n    showModal('Nothing was found matching your search!');\n    spinner.stop();\n    return;\n  }\n\n  const dataList = createDataList(data);\n  const newArrObj = dataList.filter(\n    obj =>\n      obj.descr.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.category.toLowerCase().includes(searchValue.toLowerCase().trim()) ||\n      obj.title.toLowerCase().includes(searchValue.toLowerCase().trim())\n  );\n\n  if (newArrObj.length > 0) {\n    render(newArrObj);\n    addClassesForCoincidencesMarkupAndStoragePages();\n  } else {\n    showModal();\n  }\n  formEl.reset();\n  spinner.stop();\n}\n\nfunction render(arr) {\n  const markUp = arr.reduce((acc, el) => {\n    acc += `<div class=\"news-card\" news-id=\"${el.id}\">\n      <div class=\"news-card__img\">\n        <p class=\"news-card__theme\">${el.category}</p>\n        <img\n          class=\"news-card__item\"\n          src=\"${el.img}\"\n          alt=\"${el.alt ? el.alt : 'photo'}\"\n          loading=\"lazy\"\n          width=\"395\"\n        />\n        <div class=\"news-card__favorite\">\n        <button id ='${\n          el.id\n        }' class=\"mybtn label-favorite\">Add to favorite</button>\n        </div>\n      </div>\n      <h2 class=\"news-card__info-title\">${el.title.limit(50, {\n        ending: '',\n      })}</h2>\n      <p class=\"news-card__info-text\">${el.descr.limit(120)}</p>\n      <div class=\"news-card__additional\">\n        <p class=\"news-card__date\">${el.dateArticle}</p>\n        <a class=\"news-card__more\" href=\"${el.link}\" id=\"${\n      el.id\n    }\" target=\"_blank\" rel=\"noreferrer noopener\"}>Read more</a>\n      </div>\n    </div>`;\n    return acc;\n  }, ``);\n\n  galleryEl.innerHTML = markUp;\n  galleryEl.classList.add('read-search');\n}\n"],"names":["parcelRequire","$eyjy7","$440d0ccc237e2e8b$var$auth","getAuth","$krqL4","app","$440d0ccc237e2e8b$var$cardList","document","getElementById","onAuthStateChanged","user","$jKfAL","users","updateProfile","displayName","email","uid","accessToken","async","$7B1mV","spinner","spin","body","readMore","getAllData","stop","mess","$irLYq","showModal","array1","cardMarkup","initialDates","map","obj","date","uniqueDates","sort","a","b","dateUnix","dateStamp","Date","String","getDate","padStart","getMonth","getFullYear","filter","course","index","array","indexOf","arrayConverDates","reduce","acc","newObj","img","descr","title","link","alt","category","id","dateArticle","push","limit","ending","join","insertAdjacentHTML","querySelectorAll","forEach","el","style","maxHeight","scrollHeight","addEventListener","svg","children","itemsvg","classList","toggle","newsItem","parentNode","nextElementSibling","$440d0ccc237e2e8b$var$renderMarkup","createDataList","hideModal","addClassesForCoincidencesMarkupAndStoragePages","err","console","error","$440d0ccc237e2e8b$var$onLoadReadNews","$d2c23e67483b3235$var$refs","checkbox","mobileMenu","querySelector","lightLabel","darkLabel","iconSun","iconMoon","searchInput","queryBtn","$d2c23e67483b3235$var$savedTheme","localStorage","getItem","add","checked","theme","contains","setItem","checkboxState","$d2c23e67483b3235$var$changeThemeMobile","$7299d02d67c5640e$var$refs","checkboxMobile","menuIcon","menuCross","$7299d02d67c5640e$var$savedTheme","checkboxMobileState","$7299d02d67c5640e$var$changeTheme","$f46df2db1d71c6ef$var$formEl","$f46df2db1d71c6ef$var$galleryEl","e","preventDefault","searchValue","target","elements","searchQuery","value","data","newArrObj","toLowerCase","includes","trim","length","arr","markUp","innerHTML","$f46df2db1d71c6ef$var$render","reset"],"version":3,"file":"read.b035b88b.js.map"}